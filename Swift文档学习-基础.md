## ç®€ä»‹

Swift åŒ…å«äº† C å’Œ Objective-C ä¸Šæ‰€æœ‰åŸºç¡€æ•°æ®ç±»å‹ï¼Œ`Int`è¡¨ç¤ºæ•´å‹å€¼ï¼› `Double` å’Œ `Float` è¡¨ç¤ºæµ®ç‚¹å‹å€¼ï¼› `Bool`æ˜¯å¸ƒå°”å‹å€¼ï¼›`String` æ˜¯æ–‡æœ¬å‹æ•°æ®ã€‚ Swift è¿˜æä¾›äº†ä¸‰ä¸ªåŸºæœ¬çš„é›†åˆç±»å‹ï¼Œ`Array` ï¼Œ`Set` å’Œ `Dictionary` 

é™¤äº†æˆ‘ä»¬ç†Ÿæ‚‰çš„ç±»å‹ï¼ŒSwift è¿˜å¢åŠ äº† Objective-C ä¸­æ²¡æœ‰çš„é«˜é˜¶æ•°æ®ç±»å‹æ¯”å¦‚å…ƒç»„ï¼ˆTupleï¼‰ã€‚å…ƒç»„å¯ä»¥è®©ä½ åˆ›å»ºæˆ–è€…ä¼ é€’ä¸€ç»„æ•°æ®ï¼Œæ¯”å¦‚ä½œä¸ºå‡½æ•°çš„è¿”å›å€¼æ—¶ï¼Œä½ å¯ä»¥ç”¨ä¸€ä¸ªå…ƒç»„å¯ä»¥è¿”å›å¤šä¸ªå€¼ã€‚

Swift è¿˜å¢åŠ äº†å¯é€‰ï¼ˆOptionalï¼‰ç±»å‹ï¼Œç”¨äºå¤„ç†å€¼ç¼ºå¤±çš„æƒ…å†µã€‚å¯é€‰è¡¨ç¤º â€œé‚£å„¿æœ‰ä¸€ä¸ªå€¼ï¼Œå¹¶ä¸”å®ƒç­‰äº *x* â€ æˆ–è€… â€œé‚£å„¿æ²¡æœ‰å€¼â€ ã€‚å¯é€‰æœ‰ç‚¹åƒåœ¨ Objective-C ä¸­ä½¿ç”¨ `nil` ï¼Œä½†æ˜¯å®ƒå¯ä»¥ç”¨åœ¨ä»»ä½•ç±»å‹ä¸Šï¼Œä¸ä»…ä»…æ˜¯ç±»ã€‚å¯é€‰ç±»å‹æ¯” Objective-C ä¸­çš„ `nil` æŒ‡é’ˆæ›´åŠ å®‰å…¨ä¹Ÿæ›´å…·è¡¨ç°åŠ›ï¼Œå®ƒæ˜¯ Swift è®¸å¤šå¼ºå¤§ç‰¹æ€§çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚

Swift æ˜¯ä¸€é—¨*ç±»å‹å®‰å…¨*çš„è¯­è¨€ï¼Œè¿™æ„å‘³ç€ Swift å¯ä»¥è®©ä½ æ¸…æ¥šåœ°çŸ¥é“å€¼çš„ç±»å‹ã€‚å¦‚æœä½ çš„ä»£ç éœ€è¦ä¸€ä¸ª `String` ï¼Œç±»å‹å®‰å…¨ä¼šé˜»æ­¢ä½ ä¸å°å¿ƒä¼ å…¥ä¸€ä¸ª `Int` ã€‚åŒæ ·çš„ï¼Œå¦‚æœä½ çš„ä»£ç éœ€è¦ä¸€ä¸ª `String`ï¼Œç±»å‹å®‰å…¨ä¼šé˜»æ­¢ä½ æ„å¤–ä¼ å…¥ä¸€ä¸ªå¯é€‰çš„ `String` ã€‚ç±»å‹å®‰å…¨å¯ä»¥å¸®åŠ©ä½ åœ¨å¼€å‘é˜¶æ®µå°½æ—©å‘ç°å¹¶ä¿®æ­£é”™è¯¯ã€‚

## åŸºç¡€éƒ¨åˆ†

### å¸¸é‡å’Œå˜é‡

*å¸¸é‡*çš„å€¼ä¸€æ—¦è®¾å®šå°±ä¸èƒ½æ”¹å˜ï¼Œè€Œ*å˜é‡*çš„å€¼å¯ä»¥éšæ„æ›´æ”¹ã€‚

#### å£°æ˜

å¸¸é‡å’Œå˜é‡å¿…é¡»åœ¨ä½¿ç”¨å‰å£°æ˜ï¼Œç”¨ `let` æ¥å£°æ˜å¸¸é‡ï¼Œç”¨ `var` æ¥å£°æ˜å˜é‡ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•ç”¨å¸¸é‡å’Œå˜é‡æ¥è®°å½•ç”¨æˆ·å°è¯•ç™»å½•çš„æ¬¡æ•°ï¼š

```swift
let maximumNumberOfLoginAttempts = 10
var currentLoginAttempt = 0
var x = 0.0, y = 0.0, z = 0.0
```

#### ç±»å‹æ ‡æ³¨

å¦‚æœè¦æ·»åŠ ç±»å‹æ ‡æ³¨ï¼Œéœ€è¦åœ¨å¸¸é‡æˆ–è€…å˜é‡ååé¢åŠ ä¸Šä¸€ä¸ªå†’å·å’Œç©ºæ ¼ï¼Œç„¶ååŠ ä¸Šç±»å‹åç§°

```swift
var welcomeMessage: String
var red, green, blue: Double
```

> æ³¨æ„ï¼š
> ä¸€èˆ¬æ¥è¯´ä½ å¾ˆå°‘éœ€è¦å†™ç±»å‹æ ‡æ³¨ã€‚å¦‚æœä½ åœ¨å£°æ˜å¸¸é‡æˆ–è€…å˜é‡çš„æ—¶å€™èµ‹äº†ä¸€ä¸ªåˆå§‹å€¼ï¼ŒSwiftå¯ä»¥æ¨æ–­å‡ºè¿™ä¸ªå¸¸é‡æˆ–è€…å˜é‡çš„ç±»å‹ï¼Œè¯·å‚è€ƒ[ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­](http://www.swift51.com/swift4.0/chapter2/01_The_Basics.html#type_safety_and_type_inference)ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œæ²¡æœ‰ç»™ `welcomeMessage` èµ‹åˆå§‹å€¼ï¼Œæ‰€ä»¥å˜é‡ `welcomeMessage` çš„ç±»å‹æ˜¯é€šè¿‡ä¸€ä¸ªç±»å‹æ ‡æ³¨æŒ‡å®šçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡åˆå§‹å€¼æ¨æ–­çš„

#### å‘½å

å¸¸é‡ä¸å˜é‡åä¸èƒ½åŒ…å«æ•°å­¦ç¬¦å·ï¼Œç®­å¤´ï¼Œä¿ç•™çš„ï¼ˆæˆ–è€…éæ³•çš„ï¼‰Unicode ç ä½ï¼Œè¿çº¿ä¸åˆ¶è¡¨ç¬¦ã€‚ä¹Ÿä¸èƒ½ä»¥æ•°å­—å¼€å¤´ï¼Œä½†æ˜¯å¯ä»¥åœ¨å¸¸é‡ä¸å˜é‡åçš„å…¶ä»–åœ°æ–¹åŒ…å«æ•°å­—ã€‚

#### æ‰“å°

```swift
var friendlyWelcome = "Bonjour!"
print("The current value of friendlyWelcome is \(friendlyWelcome)")
// è¾“å‡º "The current value of friendlyWelcome is Bonjour!
```

#### æ³¨é‡Š

```swift
// è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š
/* è¿™æ˜¯ä¸€ä¸ª, å¤šè¡Œæ³¨é‡Š */
/* è¿™æ˜¯ç¬¬ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šçš„å¼€å¤´ /* è¿™æ˜¯ç¬¬äºŒä¸ªè¢«åµŒå¥—çš„å¤šè¡Œæ³¨é‡Š */ è¿™æ˜¯ç¬¬ä¸€ä¸ªå¤šè¡Œæ³¨é‡Šçš„ç»“å°¾ */
```

#### åˆ†å·

ä¸å…¶ä»–å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸åŒï¼ŒSwift å¹¶ä¸å¼ºåˆ¶è¦æ±‚ä½ åœ¨æ¯æ¡è¯­å¥çš„ç»“å°¾å¤„ä½¿ç”¨åˆ†å·ï¼ˆ`;`ï¼‰ï¼Œå½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥æŒ‰ç…§ä½ è‡ªå·±çš„ä¹ æƒ¯æ·»åŠ åˆ†å·ã€‚æœ‰ä¸€ç§æƒ…å†µä¸‹å¿…é¡»è¦ç”¨åˆ†å·ï¼Œå³ä½ æ‰“ç®—åœ¨åŒä¸€è¡Œå†…å†™å¤šæ¡ç‹¬ç«‹çš„è¯­å¥ï¼š

```swift
let cat = "ğŸ±"; print(cat)
// è¾“å‡º "ğŸ±"
```

### æ•´æ•°

- swiftæä¾›äº†8ï¼Œ16ï¼Œ32ï¼Œ64ä½æœ‰ç¬¦å·å’Œæ— ç¬¦å·æ•´æ•°ç±»å‹ï¼Œ

  ```swift
  let i: UInt8 = 8
  let j: Int32 = 32	
  ```

- æ•´æ•°èŒƒå›´

  ```swift
  let minValue = UInt8.min  // minValue ä¸º 0ï¼Œæ˜¯ UInt8 ç±»å‹
  let maxValue = UInt8.max  // maxValue ä¸º 255ï¼Œæ˜¯ UInt8 ç±»å‹
  ```

- Int

  ä¸€èˆ¬æ¥è¯´ä¸éœ€è¦æŒ‡å®šæ•´æ•°çš„é•¿åº¦ï¼ŒInté•¿åº¦è·Ÿå½“å‰å¹³å°åŸç”Ÿå­—é•¿ç›¸åŒï¼Œ32ä½å¹³å°ä¸Šï¼ŒIntå’ŒInt32é•¿åº¦ç›¸åŒï¼Œ64ä½å¹³å°ä¸Šï¼ŒIntä¸Int64é•¿åº¦ç›¸åŒ

- UInt è·ŸIntä¸€æ ·ï¼Œç›¸å¯¹åº”çš„æ•°æ®ä¸ºUInt32ï¼ŒUInt64

### æµ®ç‚¹æ•°

Doubleè¡¨ç¤º64ä½æµ®ç‚¹æ•°ï¼Œéœ€è¦å­˜å‚¨å¾ˆå¤§æˆ–è€…å¾ˆé«˜ç²¾åº¦çš„æµ®ç‚¹æ•°æ—¶ä½¿ç”¨æ­¤ç±»å‹

Floatè¡¨ç¤º32ä½æµ®ç‚¹æ•°ï¼Œç²¾åº¦è¦æ±‚ä¸é«˜å¯ä»¥ä½¿ç”¨æ­¤ç±»å‹

	`			Double`ç²¾ç¡®åº¦å¾ˆé«˜ï¼Œè‡³å°‘æœ‰15ä½æ•°å­—ï¼Œè€Œ`Float`åªæœ‰6ä½æ•°å­—ã€‚

### ç±»å‹å®‰å…¨å’Œç±»å‹æ¨æ–­

Swift æ˜¯ä¸€ä¸ª*ç±»å‹å®‰å…¨ï¼ˆtype safeï¼‰*çš„è¯­è¨€ã€‚ç±»å‹å®‰å…¨çš„è¯­è¨€å¯ä»¥è®©ä½ æ¸…æ¥šåœ°çŸ¥é“ä»£ç è¦å¤„ç†çš„å€¼çš„ç±»å‹ã€‚å¦‚	æœä½ çš„ä»£ç éœ€è¦ä¸€ä¸ª`String`ï¼Œä½ ç»å¯¹ä¸å¯èƒ½ä¸å°å¿ƒä¼ è¿›å»ä¸€ä¸ª`Int`ã€‚å®ƒä¼šåœ¨ç¼–è¯‘ä½ çš„ä»£ç æ—¶è¿›è¡Œ*ç±»å‹æ£€æŸ¥	ï¼ˆtype checksï¼‰*ï¼Œå¹¶æŠŠä¸åŒ¹é…çš„ç±»å‹æ ‡è®°ä¸ºé”™è¯¯

ç±»å‹æ¨æ–­å°±æ˜¯æ ¹æ®èµ‹å€¼å­—é¢é‡çš„ç±»å‹æ¨æ–­å¸¸é‡æˆ–å˜é‡çš„ç±»å‹	

```swift
let meaningOfLife = 42
// meaningOfLife ä¼šè¢«æ¨æµ‹ä¸º Int ç±»å‹
```

åŒç†ï¼Œå¦‚æœä½ æ²¡æœ‰ç»™æµ®ç‚¹å­—é¢é‡æ ‡æ˜ç±»å‹ï¼ŒSwift ä¼šæ¨æ–­ä½ æƒ³è¦çš„æ˜¯ `Double`ï¼š

```swift
let pi = 3.14159
// pi ä¼šè¢«æ¨æµ‹ä¸º Double ç±»å‹
```

å½“æ¨æ–­æµ®ç‚¹æ•°çš„ç±»å‹æ—¶ï¼ŒSwift æ€»æ˜¯ä¼šé€‰æ‹© `Double` è€Œä¸æ˜¯`Float`ã€‚

### æ•°å€¼ç±»å‹è½¬æ¢

å¦‚æœæ•°å­—è¶…å‡ºäº†å¸¸é‡æˆ–è€…å˜é‡å¯å­˜å‚¨çš„èŒƒå›´ï¼Œç¼–è¯‘çš„æ—¶å€™ä¼šæŠ¥é”™ï¼š

```swift
let cannotBeNegative: UInt8 = -1
// UInt8 ç±»å‹ä¸èƒ½å­˜å‚¨è´Ÿæ•°ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
let tooBig: Int8 = Int8.max + 1
// Int8 ç±»å‹ä¸èƒ½å­˜å‚¨è¶…è¿‡æœ€å¤§å€¼çš„æ•°ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™
```

åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œå¸¸é‡`twoThousand`æ˜¯`UInt16`ç±»å‹ï¼Œç„¶è€Œå¸¸é‡`one`æ˜¯`UInt8`ç±»å‹ã€‚å®ƒä»¬ä¸èƒ½ç›´æ¥ç›¸åŠ ï¼Œå› ä¸ºå®ƒä»¬ç±»å‹ä¸åŒã€‚æ‰€ä»¥è¦è°ƒç”¨`UInt16(one)`æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„`UInt16`æ•°å­—å¹¶ç”¨`one`çš„å€¼æ¥åˆå§‹åŒ–ï¼Œç„¶åä½¿ç”¨è¿™ä¸ªæ–°æ•°å­—æ¥è®¡ç®—ï¼š

```swift
let twoThousand: UInt16 = 2_000
let one: UInt8 = 1
let twoThousandAndOne = twoThousand + UInt16(one)
```

### æ•´æ•°å’Œæµ®ç‚¹æ•°è½¬æ¢

æ•´æ•°å’Œæµ®ç‚¹æ•°çš„è½¬æ¢å¿…é¡»æ˜¾å¼æŒ‡å®šç±»å‹ï¼š

```swift
let three = 3
let pointOneFourOneFiveNine = 0.14159
let pi = Double(three) + pointOneFourOneFiveNine
// pi ç­‰äº 3.14159ï¼Œæ‰€ä»¥è¢«æ¨æµ‹ä¸º Double ç±»å‹
```

è¿™ä¸ªä¾‹å­ä¸­ï¼Œå¸¸é‡ `three` çš„å€¼è¢«ç”¨æ¥åˆ›å»ºä¸€ä¸ª `Double` ç±»å‹çš„å€¼ï¼Œæ‰€ä»¥åŠ å·ä¸¤è¾¹çš„æ•°ç±»å‹é¡»ç›¸åŒã€‚å¦‚æœä¸è¿›è¡Œè½¬æ¢ï¼Œä¸¤è€…æ— æ³•ç›¸åŠ ã€‚

æµ®ç‚¹æ•°åˆ°æ•´æ•°çš„åå‘è½¬æ¢åŒæ ·è¡Œï¼Œæ•´æ•°ç±»å‹å¯ä»¥ç”¨ `Double` æˆ–è€… `Float` ç±»å‹æ¥åˆå§‹åŒ–ï¼š

```swift
let integerPi = Int(pi)
// integerPi ç­‰äº 3ï¼Œæ‰€ä»¥è¢«æ¨æµ‹ä¸º Int ç±»å‹
```

å½“ç”¨è¿™ç§æ–¹å¼æ¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„æ•´æ•°å€¼æ—¶ï¼Œæµ®ç‚¹å€¼ä¼šè¢«æˆªæ–­ã€‚ä¹Ÿå°±æ˜¯è¯´ `4.75` ä¼šå˜æˆ `4`ï¼Œ`-3.9` ä¼šå˜æˆ `-3`ã€‚

### å¸ƒå°”å€¼

Swift æœ‰ä¸€ä¸ªåŸºæœ¬çš„*å¸ƒå°”ï¼ˆBooleanï¼‰ç±»å‹*ï¼Œå«åš`Bool`ã€‚å¸ƒå°”å€¼æŒ‡*é€»è¾‘*ä¸Šçš„å€¼ï¼Œå› ä¸ºå®ƒä»¬åªèƒ½æ˜¯çœŸæˆ–è€…å‡ã€‚Swift æœ‰ä¸¤ä¸ªå¸ƒå°”å¸¸é‡ï¼Œ`true` å’Œ `false`ï¼š

### å…ƒç»„

*å…ƒç»„ï¼ˆtuplesï¼‰*æŠŠå¤šä¸ªå€¼ç»„åˆæˆä¸€ä¸ªå¤åˆå€¼ã€‚å…ƒç»„å†…çš„å€¼å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œå¹¶ä¸è¦æ±‚æ˜¯ç›¸åŒç±»å‹ã€‚

```swift
let http404Error = (404, "Not Found")
// http404Error çš„ç±»å‹æ˜¯ (Int, String)ï¼Œå€¼æ˜¯ (404, "Not Found")

let (statusCode, statusMessage) = http404Error

let (justTheStatusCode, _) = http404Error

print("The status code is \(http404Error.0)")
// è¾“å‡º "The status code is 404"
print("The status message is \(http404Error.1)")
// è¾“å‡º "The status message is Not Found"
```

ä½ å¯ä»¥åœ¨å®šä¹‰å…ƒç»„çš„æ—¶å€™ç»™å•ä¸ªå…ƒç´ å‘½åï¼š

```swift
let http200Status = (statusCode: 200, description: "OK")
print("The status code is \(http200Status.statusCode)")
// è¾“å‡º "The status code is 200"
print("The status message is \(http200Status.description)")
// è¾“å‡º "The status message is OK"
```

### å¯é€‰ç±»å‹

ä½¿ç”¨*å¯é€‰ç±»å‹ï¼ˆoptionalsï¼‰*æ¥å¤„ç†å€¼å¯èƒ½ç¼ºå¤±çš„æƒ…å†µã€‚å¯é€‰ç±»å‹è¡¨ç¤ºï¼š

- æœ‰å€¼ï¼Œç­‰äº x

æˆ–è€…

- æ²¡æœ‰å€¼

```swift
let possibleNumber = "123"
let convertedNumber = Int(possibleNumber)
// convertedNumber è¢«æ¨æµ‹ä¸ºç±»å‹ "Int?"ï¼Œ æˆ–è€…ç±»å‹ "optional Int"
```

> Swift çš„ `nil` å’Œ Objective-C ä¸­çš„ `nil` å¹¶ä¸ä¸€æ ·ã€‚åœ¨ Objective-C ä¸­ï¼Œ`nil` æ˜¯ä¸€ä¸ªæŒ‡å‘ä¸å­˜åœ¨å¯¹è±¡çš„æŒ‡é’ˆã€‚åœ¨ Swift ä¸­ï¼Œ`nil` ä¸æ˜¯æŒ‡é’ˆâ€”â€”å®ƒæ˜¯ä¸€ä¸ªç¡®å®šçš„å€¼ï¼Œç”¨æ¥è¡¨ç¤ºå€¼ç¼ºå¤±ã€‚ä»»ä½•ç±»å‹çš„å¯é€‰çŠ¶æ€éƒ½å¯ä»¥è¢«è®¾ç½®ä¸º `nil`ï¼Œä¸åªæ˜¯å¯¹è±¡ç±»å‹ã€‚

### if è¯­å¥ä»¥åŠå¼ºåˆ¶è§£æ

ä½ å¯ä»¥ä½¿ç”¨ `if` è¯­å¥å’Œ `nil` æ¯”è¾ƒæ¥åˆ¤æ–­ä¸€ä¸ªå¯é€‰å€¼æ˜¯å¦åŒ…å«å€¼ã€‚ä½ å¯ä»¥ä½¿ç”¨â€œç›¸ç­‰â€(`==`)æˆ–â€œä¸ç­‰â€(`!=`)æ¥æ‰§è¡Œæ¯”è¾ƒã€‚

å½“ä½ ç¡®å®šå¯é€‰ç±»å‹ç¡®å®åŒ…å«å€¼ä¹‹åï¼Œä½ å¯ä»¥åœ¨å¯é€‰çš„åå­—åé¢åŠ ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ`!`ï¼‰æ¥è·å–å€¼ã€‚

```swift
if convertedNumber != nil {
    print("convertedNumber has an integer value of \(convertedNumber!).")
}
// è¾“å‡º "convertedNumber has an integer value of 123."
```

### å¯é€‰ç»‘å®š

```swift
if let actualNumber = Int(possibleNumber) {
    print("\'\(possibleNumber)\' has an integer value of \(actualNumber)")
} else {
    print("\'\(possibleNumber)\' could not be converted to an integer")
}
// è¾“å‡º "'123' has an integer value of 123"
```

è¿™æ®µä»£ç å¯ä»¥è¢«ç†è§£ä¸ºï¼š

â€œå¦‚æœ `Int(possibleNumber)` è¿”å›çš„å¯é€‰ `Int` åŒ…å«ä¸€ä¸ªå€¼ï¼Œåˆ›å»ºä¸€ä¸ªå«åš `actualNumber` çš„æ–°å¸¸é‡å¹¶å°†å¯é€‰åŒ…å«çš„å€¼èµ‹ç»™å®ƒã€‚â€

å¦‚æœè½¬æ¢æˆåŠŸï¼Œ`actualNumber` å¸¸é‡å¯ä»¥åœ¨ `if` è¯­å¥çš„ç¬¬ä¸€ä¸ªåˆ†æ”¯ä¸­ä½¿ç”¨ã€‚å®ƒå·²ç»è¢«å¯é€‰ç±»å‹ *åŒ…å«çš„* å€¼åˆå§‹åŒ–è¿‡ï¼Œæ‰€ä»¥ä¸éœ€è¦å†ä½¿ç”¨ `!` åç¼€æ¥è·å–å®ƒçš„å€¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`actualNumber` åªè¢«ç”¨æ¥è¾“å‡ºè½¬æ¢ç»“æœã€‚

### éšå¼è§£æå¯é€‰ç±»å‹ï¼ˆéšå¼è§£åŒ…ï¼‰

æŠŠæƒ³è¦ç”¨ä½œå¯é€‰çš„ç±»å‹çš„åé¢çš„é—®å·ï¼ˆ`String?`ï¼‰æ”¹æˆæ„Ÿå¹å·ï¼ˆ`String!`ï¼‰æ¥å£°æ˜ä¸€ä¸ªéšå¼è§£æå¯é€‰ç±»å‹ã€‚

é¦–å…ˆéœ€è¦æ˜ç¡®çš„æ˜¯ï¼Œéšå¼è§£åŒ…çš„ Optional æœ¬è´¨ä¸Šä¸æ™®é€šçš„ Optional å€¼å¹¶æ²¡æœ‰ä»»ä½•ä¸åŒï¼Œåªæ˜¯æˆ‘ä»¬åœ¨å¯¹è¿™ç±»å˜é‡çš„æˆå‘˜æˆ–æ–¹æ³•è¿›è¡Œè®¿é—®çš„æ—¶å€™ï¼Œç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬åœ¨åé¢æ’å…¥è§£åŒ…ç¬¦å· `!`ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºä¸€ä¸ªéšå¼è§£åŒ…çš„ä¸‹é¢çš„ä¸¤ç§å†™æ³•æ˜¯ç­‰æ•ˆçš„ï¼š

```swift
var maybeObject: MyClass! = MyClass()
maybeObject!.foo()
maybeObject.foo()
```

### é”™è¯¯å¤„ç†

å½“ä¸€ä¸ªå‡½æ•°é‡åˆ°é”™è¯¯æ¡ä»¶ï¼Œå®ƒèƒ½æŠ¥é”™ã€‚è°ƒç”¨å‡½æ•°çš„åœ°æ–¹èƒ½æŠ›å‡ºé”™è¯¯æ¶ˆæ¯å¹¶åˆç†å¤„ç†ã€‚

```swift
func canThrowAnError() throws {
    // è¿™ä¸ªå‡½æ•°æœ‰å¯èƒ½æŠ›å‡ºé”™è¯¯
}
```

ä¸€ä¸ªå‡½æ•°å¯ä»¥é€šè¿‡åœ¨å£°æ˜ä¸­æ·»åŠ `throws`å…³é”®è¯æ¥æŠ›å‡ºé”™è¯¯æ¶ˆæ¯ã€‚å½“ä½ çš„å‡½æ•°èƒ½æŠ›å‡ºé”™è¯¯æ¶ˆæ¯æ—¶, ä½ åº”è¯¥åœ¨è¡¨è¾¾å¼ä¸­å‰ç½®`try`å…³é”®è¯ã€‚

```swift
do {
    try canThrowAnError()
    // æ²¡æœ‰é”™è¯¯æ¶ˆæ¯æŠ›å‡º
} catch {
    // æœ‰ä¸€ä¸ªé”™è¯¯æ¶ˆæ¯æŠ›å‡º
}
```

### æ–­è¨€å’Œå…ˆå†³æ¡ä»¶

æ–­è¨€å’Œå…ˆå†³æ¡ä»¶æ˜¯åœ¨è¿è¡Œæ—¶æ‰€åšçš„æ£€æŸ¥ï¼Œå¦‚æœæ–­è¨€æˆ–è€…å…ˆå†³æ¡ä»¶ä¸­çš„å¸ƒå°”æ¡ä»¶è¯„ä¼°çš„ç»“æœä¸º trueï¼ˆçœŸï¼‰ï¼Œåˆ™ä»£ç åƒå¾€å¸¸ä¸€æ ·ç»§ç»­æ‰§è¡Œã€‚å¦‚æœå¸ƒå°”æ¡ä»¶è¯„ä¼°ç»“æœä¸ºfalseï¼ˆå‡ï¼‰ï¼Œç¨‹åºçš„å½“å‰çŠ¶æ€æ˜¯æ— æ•ˆçš„ï¼Œåˆ™ä»£ç æ‰§è¡Œç»“æŸï¼Œåº”ç”¨ç¨‹åºä¸­æ­¢ã€‚

æ–­è¨€ä»…åœ¨è°ƒè¯•ç¯å¢ƒè¿è¡Œï¼Œè€Œå…ˆå†³æ¡ä»¶åˆ™åœ¨è°ƒè¯•ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒä¸­è¿è¡Œ

### ä½¿ç”¨æ–­è¨€è¿›è¡Œè°ƒè¯•

ä½ å¯ä»¥è°ƒç”¨ Swift æ ‡å‡†åº“çš„ `assert(_:_:file:line:)` å‡½æ•°æ¥å†™ä¸€ä¸ªæ–­è¨€ã€‚å‘è¿™ä¸ªå‡½æ•°ä¼ å…¥ä¸€ä¸ªç»“æœä¸º `true`æˆ–è€… `false` çš„è¡¨è¾¾å¼ä»¥åŠä¸€æ¡ä¿¡æ¯ï¼Œå½“è¡¨è¾¾å¼çš„ç»“æœä¸º `false` çš„æ—¶å€™è¿™æ¡ä¿¡æ¯ä¼šè¢«æ˜¾ç¤ºï¼š

```swift
let age = -3
assert(age >= 0, "A person's age cannot be less than zero")
// å› ä¸º age < 0ï¼Œæ‰€ä»¥æ–­è¨€ä¼šè§¦å‘
```

å¦‚æœä¸éœ€è¦æ–­è¨€ä¿¡æ¯ï¼Œå¯ä»¥å°±åƒè¿™æ ·å¿½ç•¥æ‰ï¼š

```swift
assert(age >= 0)
```

å¦‚æœä»£ç å·²ç»æ£€æŸ¥äº†æ¡ä»¶ï¼Œä½ å¯ä»¥ä½¿ç”¨ `assertionFailure(_:file:line:)`å‡½æ•°æ¥è¡¨æ˜æ–­è¨€å¤±è´¥äº†ï¼Œä¾‹å¦‚ï¼š

```swift
if age > 10 {
    print("You can ride the roller-coaster or the ferris wheel.")
} else if age > 0 {
    print("You can ride the ferris wheel.")
} else {
    assertionFailure("A person's age can't be less than zero.")
}
```

### å¼ºåˆ¶æ‰§è¡Œå…ˆå†³æ¡ä»¶

ä½ å¯ä»¥ä½¿ç”¨å…¨å±€ `precondition(_:_:file:line:)` å‡½æ•°æ¥å†™ä¸€ä¸ªå…ˆå†³æ¡ä»¶ã€‚å‘è¿™ä¸ªå‡½æ•°ä¼ å…¥ä¸€ä¸ªç»“æœä¸º `true` æˆ–è€… `false` çš„è¡¨è¾¾å¼ä»¥åŠä¸€æ¡ä¿¡æ¯ï¼Œå½“è¡¨è¾¾å¼çš„ç»“æœä¸º `false` çš„æ—¶å€™è¿™æ¡ä¿¡æ¯ä¼šè¢«æ˜¾ç¤ºï¼š

```swift
// åœ¨ä¸€ä¸ªä¸‹æ ‡çš„å®ç°é‡Œ...
precondition(index > 0, "Index must be greater than zero.")
```

> ä½ èƒ½ä½¿ç”¨ `fatalError(_:file:line:)`å‡½æ•°åœ¨è®¾è®¡åŸå‹å’Œæ—©æœŸå¼€å‘é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µåªæœ‰æ–¹æ³•çš„å£°æ˜ï¼Œä½†æ˜¯æ²¡æœ‰å…·ä½“å®ç°ï¼Œä½ å¯ä»¥åœ¨æ–¹æ³•ä½“ä¸­å†™ä¸ŠfatalError("Unimplemented")ä½œä¸ºå…·ä½“å®ç°ã€‚å› ä¸ºfatalErrorä¸ä¼šåƒæ–­è¨€å’Œå…ˆå†³æ¡ä»¶é‚£æ ·è¢«ä¼˜åŒ–æ‰ï¼Œæ‰€ä»¥ä½ å¯ä»¥ç¡®ä¿å½“ä»£ç æ‰§è¡Œåˆ°ä¸€ä¸ªæ²¡æœ‰è¢«å®ç°çš„æ–¹æ³•æ—¶ï¼Œç¨‹åºä¼šè¢«ä¸­æ–­ã€‚

## åŸºæœ¬è¿ç®—ç¬¦

Swift æ”¯æŒå¤§éƒ¨åˆ†æ ‡å‡† C è¯­è¨€çš„è¿ç®—ç¬¦ï¼Œä¸”æ”¹è¿›è®¸å¤šç‰¹æ€§æ¥å‡å°‘å¸¸è§„ç¼–ç é”™è¯¯ã€‚å¦‚ï¼šèµ‹å€¼ç¬¦ï¼ˆ`=`ï¼‰ä¸è¿”å›å€¼ï¼Œä»¥é˜²æ­¢æŠŠæƒ³è¦åˆ¤æ–­ç›¸ç­‰è¿ç®—ç¬¦ï¼ˆ`==`ï¼‰çš„åœ°æ–¹å†™æˆèµ‹å€¼ç¬¦å¯¼è‡´çš„é”™è¯¯ã€‚ç®—æœ¯è¿ç®—ç¬¦ï¼ˆ`+`ï¼Œ`-`ï¼Œ`*`ï¼Œ`/`ï¼Œ`%`ç­‰ï¼‰ä¼šæ£€æµ‹å¹¶ä¸å…è®¸å€¼æº¢å‡ºï¼Œä»¥æ­¤æ¥é¿å…ä¿å­˜å˜é‡æ—¶ç”±äºå˜é‡å¤§äºæˆ–å°äºå…¶ç±»å‹æ‰€èƒ½æ‰¿è½½çš„èŒƒå›´æ—¶å¯¼è‡´çš„å¼‚å¸¸ç»“æœã€‚å½“ç„¶å…è®¸ä½ ä½¿ç”¨ Swift çš„æº¢å‡ºè¿ç®—ç¬¦æ¥å®ç°æº¢å‡ºã€‚

Swift è¿˜æä¾›äº† C è¯­è¨€æ²¡æœ‰çš„åŒºé—´è¿ç®—ç¬¦ï¼Œä¾‹å¦‚ `a..<b` æˆ– `a...b`ï¼Œè¿™æ–¹ä¾¿æˆ‘ä»¬è¡¨è¾¾ä¸€ä¸ªåŒºé—´å†…çš„æ•°å€¼ã€‚

### èµ‹å€¼è¿ç®—ç¬¦

å¦‚æœèµ‹å€¼çš„å³è¾¹æ˜¯ä¸€ä¸ªå¤šå…ƒç»„ï¼Œå®ƒçš„å…ƒç´ å¯ä»¥é©¬ä¸Šè¢«åˆ†è§£æˆå¤šä¸ªå¸¸é‡æˆ–å˜é‡ï¼š

```swift
let (x, y) = (1, 2)
// ç°åœ¨ x ç­‰äº 1ï¼Œy ç­‰äº 2
```

ä¸ C è¯­è¨€å’Œ Objective-C ä¸åŒï¼ŒSwift çš„èµ‹å€¼æ“ä½œå¹¶ä¸è¿”å›ä»»ä½•å€¼ã€‚æ‰€ä»¥ä»¥ä¸‹ä»£ç æ˜¯é”™è¯¯çš„ï¼š

```swift
if x = y {
    // æ­¤å¥é”™è¯¯, å› ä¸º x = y å¹¶ä¸è¿”å›ä»»ä½•å€¼
}
```

### ç®—æœ¯è¿ç®—ç¬¦

å››åˆ™è¿ç®—ç¬¦ï¼ŒåŠ æ³•è¿ç®—ç¬¦ä¹Ÿå¯ç”¨äº `String` çš„æ‹¼æ¥ï¼š

```swift
"hello, " + "world"  // ç­‰äº "hello, world"
```

### æ±‚ä½™è¿ç®—ç¬¦

*æ±‚ä½™è¿ç®—ç¬¦*ï¼ˆ`a % b`ï¼‰æ˜¯è®¡ç®— `b` çš„å¤šå°‘å€åˆšåˆšå¥½å¯ä»¥å®¹å…¥`a`ï¼Œè¿”å›å¤šå‡ºæ¥çš„é‚£éƒ¨åˆ†ï¼ˆä½™æ•°ï¼‰ï¼Œå¹¶ä¸”å½“`å€æ•°`å–æœ€å¤§å€¼çš„æ—¶å€™ï¼Œå°±ä¼šåˆšå¥½å¯ä»¥å®¹å…¥ `a` ä¸­ã€‚

```swift
-9 = (4 Ã— -2) + -1 // -2æ˜¯æœ€å¤§å€æ•°
```

### ç»„åˆèµ‹å€¼è¿ç®—ç¬¦

ä¾‹å¦‚ï¼š+=

> æ³¨æ„ï¼š
> å¤åˆèµ‹å€¼è¿ç®—æ²¡æœ‰è¿”å›å€¼ï¼Œ`let b = a += 2`è¿™ç±»ä»£ç æ˜¯é”™è¯¯

### æ¯”è¾ƒè¿ç®—ç¬¦

æ‰€æœ‰æ ‡å‡† C è¯­è¨€ä¸­çš„*æ¯”è¾ƒè¿ç®—ç¬¦*éƒ½å¯ä»¥åœ¨ Swift ä¸­ä½¿ç”¨ï¼š

 å¦‚ï¼šç­‰äºï¼Œä¸ç­‰äºï¼Œå¤§äºï¼Œå°äºï¼Œå¤§äºç­‰äºï¼Œå°äºç­‰äº

> æ³¨æ„ï¼š Swift ä¹Ÿæä¾›æ’ç­‰ï¼ˆ`===`ï¼‰å’Œä¸æ’ç­‰ï¼ˆ`!==`ï¼‰è¿™ä¸¤ä¸ªæ¯”è¾ƒç¬¦æ¥åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡å®ä¾‹ã€‚

ç­‰äºè¿ç®—ç¬¦å¯ä»¥ç”¨äºæ¯”è¾ƒå­—ç¬¦ä¸²ã€å…ƒç»„

å¦‚æœä¸¤ä¸ªå…ƒç»„çš„å…ƒç´ ç›¸åŒï¼Œä¸”é•¿åº¦ç›¸åŒçš„è¯ï¼Œå…ƒç»„å°±å¯ä»¥è¢«æ¯”è¾ƒã€‚æ¯”è¾ƒå…ƒç»„å¤§å°ä¼šæŒ‰ç…§ä»å·¦åˆ°å³ã€é€å€¼æ¯”è¾ƒçš„æ–¹å¼ï¼Œç›´åˆ°å‘ç°æœ‰ä¸¤ä¸ªå€¼ä¸ç­‰æ—¶åœæ­¢ï¼Œå¹¶ä¸”å…ƒç»„ä¸­çš„å…ƒç´ éƒ½æ˜¯å¯æ¯”è¾ƒçš„ï¼Œå¦‚Intã€Stringï¼ŒBoolä¸èƒ½è¢«æ¯”è¾ƒ

```swift
(1, "zebra") < (2, "apple")   // trueï¼Œå› ä¸º 1 å°äº 2
(3, "apple") < (3, "bird")    // trueï¼Œå› ä¸º 3 ç­‰äº 3ï¼Œä½†æ˜¯ apple å°äº bird
(4, "dog") == (4, "dog")      // trueï¼Œå› ä¸º 4 ç­‰äº 4ï¼Œdog ç­‰äº dog
```

```swift
("blue", -1) < ("purple", 1)       // æ­£å¸¸ï¼Œæ¯”è¾ƒçš„ç»“æœä¸º true
("blue", false) < ("purple", true) // é”™è¯¯ï¼Œå› ä¸º < ä¸èƒ½æ¯”è¾ƒå¸ƒå°”ç±»å‹
```

> æ³¨æ„ï¼š
> Swift æ ‡å‡†åº“åªèƒ½æ¯”è¾ƒä¸ƒä¸ªä»¥å†…å…ƒç´ çš„å…ƒç»„æ¯”è¾ƒå‡½æ•°ã€‚å¦‚æœä½ çš„å…ƒç»„å…ƒç´ è¶…è¿‡ä¸ƒä¸ªæ—¶ï¼Œä½ éœ€è¦è‡ªå·±å®ç°æ¯”è¾ƒè¿ç®—ç¬¦ã€‚

### ç©ºåˆè¿ç®—ç¬¦ï¼ˆNil Coalescing Operatorï¼‰

*ç©ºåˆè¿ç®—ç¬¦*ï¼ˆ`a ?? b`ï¼‰å°†å¯¹å¯é€‰ç±»å‹ `a` è¿›è¡Œç©ºåˆ¤æ–­ï¼Œå¦‚æœ `a` åŒ…å«ä¸€ä¸ªå€¼å°±è¿›è¡Œè§£å°ï¼Œå¦åˆ™å°±è¿”å›ä¸€ä¸ªé»˜è®¤å€¼ `b`ã€‚

ç©ºåˆè¿ç®—ç¬¦æ˜¯å¯¹ä»¥ä¸‹ä»£ç çš„ç®€çŸ­è¡¨è¾¾æ–¹æ³•ï¼š

```swift
a != nil ? a! : b
```

### åŒºé—´è¿ç®—ç¬¦

- é—­åŒºé—´è¿ç®—ç¬¦

  *é—­åŒºé—´è¿ç®—ç¬¦*ï¼ˆ`a...b`ï¼‰å®šä¹‰ä¸€ä¸ªåŒ…å«ä» `a` åˆ° `b`ï¼ˆåŒ…æ‹¬ `a` å’Œ `b`ï¼‰çš„æ‰€æœ‰å€¼çš„åŒºé—´ã€‚`a` çš„å€¼ä¸èƒ½è¶…è¿‡ `b`ã€‚ â€Œ é—­åŒºé—´è¿ç®—ç¬¦åœ¨è¿­ä»£ä¸€ä¸ªåŒºé—´çš„æ‰€æœ‰å€¼æ—¶æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå¦‚åœ¨ `for-in` å¾ªç¯ä¸­ï¼š

  ```swift
  for index in 1...5 {
      print("\(index) * 5 = \(index * 5)")
  }
  ```

- åŠå¼€åŒºé—´è¿ç®—ç¬¦

  *åŠå¼€åŒºé—´è¿ç®—ç¬¦*ï¼ˆ`a..<b`ï¼‰å®šä¹‰ä¸€ä¸ªä» `a` åˆ° `b` ä½†ä¸åŒ…æ‹¬ `b` çš„åŒºé—´ã€‚ ä¹‹æ‰€ä»¥ç§°ä¸º*åŠå¼€åŒºé—´*ï¼Œæ˜¯å› ä¸ºè¯¥åŒºé—´åŒ…å«ç¬¬ä¸€ä¸ªå€¼è€Œä¸åŒ…æ‹¬æœ€åçš„å€¼ï¼Œé€‚ç”¨äºæ•°ç»„éå†ã€‚

  ```swift
  let names = ["Anna", "Alex", "Brian", "Jack"]
  let count = names.count
  for i in 0..<count {
      print("ç¬¬ \(i + 1) ä¸ªäººå« \(names[i])")
  }
  ```

- å•ä¾§åŒºé—´

  é—­åŒºé—´æ“ä½œç¬¦æœ‰å¦ä¸€ä¸ªè¡¨è¾¾å½¢å¼ï¼Œå¯ä»¥è¡¨è¾¾å¾€ä¸€ä¾§æ— é™å»¶ä¼¸çš„åŒºé—´ â€”â€” ä¾‹å¦‚ï¼Œä¸€ä¸ªåŒ…å«äº†æ•°ç»„ä»ç´¢å¼• 2 åˆ°ç»“å°¾çš„æ‰€æœ‰å€¼çš„åŒºé—´ã€‚åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥çœç•¥æ‰åŒºé—´æ“ä½œç¬¦ä¸€ä¾§çš„å€¼ã€‚è¿™ç§åŒºé—´å«åšå•ä¾§åŒºé—´ï¼Œå› ä¸ºæ“ä½œç¬¦åªæœ‰ä¸€ä¾§æœ‰å€¼ã€‚ä¾‹å¦‚ï¼š

  ```swift
  for name in names[2...] {
      print(name)
  }
  // Brian
  // Jack
  
  for name in names[...2] {
      print(name)
  }
  // Anna
  // Alex
  // Brian
  ```

  åŠå¼€åŒºé—´æ“ä½œç¬¦ä¹Ÿæœ‰å•ä¾§è¡¨è¾¾å½¢å¼ï¼Œé™„å¸¦ä¸Šå®ƒçš„æœ€ç»ˆå€¼ã€‚å°±åƒä½ ä½¿ç”¨åŒºé—´å»åŒ…å«ä¸€ä¸ªå€¼ï¼Œæœ€ç»ˆå€¼å¹¶ä¸ä¼šè½åœ¨åŒºé—´å†…ã€‚ä¾‹å¦‚ï¼š

  ```swift
  for name in names[..<2] {
      print(name)
  }
  // Anna
  // Alex
  ```

### é€»è¾‘è¿ç®—ç¬¦

é€»è¾‘ä¸æˆ–éï¼Œè·ŸCä¸€æ ·ï¼Œç•¥è¿‡

## å­—ç¬¦ä¸²å’Œå­—ç¬¦

å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥ç”¨äºä¸ºå¸¸é‡å’Œå˜é‡æä¾›åˆå§‹å€¼ï¼š

```swift
let someString = "Some string literal value"
```

### å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡

```swift
let quotation = """
The White Rabbit put on his spectacles.  "Where shall I begin,
please your Majesty?" he asked.

"Begin at the beginning," the King said gravely, "and go on
till you come to the end; then stop."
"""
```

å¦‚æœä½ çš„ä»£ç ä¸­ï¼Œå¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡åŒ…å«æ¢è¡Œç¬¦çš„è¯ï¼Œåˆ™å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­ä¹Ÿä¼šåŒ…å«æ¢è¡Œç¬¦ã€‚å¦‚æœä½ æƒ³æ¢è¡Œï¼Œä»¥ä¾¿åŠ å¼ºä»£ç çš„å¯è¯»æ€§ï¼Œä½†æ˜¯ä½ åˆä¸æƒ³åœ¨ä½ çš„å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡ä¸­å‡ºç°æ¢è¡Œç¬¦çš„è¯ï¼Œä½ å¯ä»¥ç”¨åœ¨è¡Œå°¾å†™ä¸€ä¸ªåæ–œæ (`\`)ä½œä¸ºç»­è¡Œç¬¦ã€‚

```swift
let softWrappedQuotation = """
The White Rabbit put on his spectacles.  "Where shall I begin, \
please your Majesty?" he asked.

"Begin at the beginning," the King said gravely, "and go on \
till you come to the end; then stop."
"""
```

### å­—ç¬¦ä¸²å­—é¢é‡çš„ç‰¹æ®Šå­—ç¬¦

å­—ç¬¦ä¸²å­—é¢é‡å¯ä»¥åŒ…å«ä»¥ä¸‹ç‰¹æ®Šå­—ç¬¦ï¼š

- è½¬ä¹‰å­—ç¬¦`\0`(ç©ºå­—ç¬¦)ã€`\\`(åæ–œçº¿)ã€`\t`(æ°´å¹³åˆ¶è¡¨ç¬¦)ã€`\n`(æ¢è¡Œç¬¦)ã€`\r`(å›è½¦ç¬¦)ã€`\"`(åŒå¼•å·)ã€`\'`(å•å¼•å·)ã€‚

### åˆå§‹åŒ–ç©ºå­—ç¬¦ä¸²

è¦åˆ›å»ºä¸€ä¸ªç©ºå­—ç¬¦ä¸²ä½œä¸ºåˆå§‹å€¼ï¼Œå¯ä»¥å°†ç©ºçš„å­—ç¬¦ä¸²å­—é¢é‡èµ‹å€¼ç»™å˜é‡ï¼Œä¹Ÿå¯ä»¥åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„`String`å®ä¾‹ï¼š

```swift
var emptyString = ""               // ç©ºå­—ç¬¦ä¸²å­—é¢é‡
var anotherEmptyString = String()  // åˆå§‹åŒ–æ–¹æ³•
// ä¸¤ä¸ªå­—ç¬¦ä¸²å‡ä¸ºç©ºå¹¶ç­‰ä»·ã€‚
if emptyString.isEmpty {
    print("Nothing to see here")
}
// æ‰“å°è¾“å‡ºï¼š"Nothing to see here"
```

### å­—ç¬¦ä¸²æ˜¯å€¼ç±»å‹

Swift çš„`String`ç±»å‹æ˜¯*å€¼ç±»å‹*ã€‚ å¦‚æœæ‚¨åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆå½“å…¶è¿›è¡Œå¸¸é‡ã€å˜é‡èµ‹å€¼æ“ä½œï¼Œæˆ–åœ¨å‡½æ•°/æ–¹æ³•ä¸­ä¼ é€’æ—¶ï¼Œä¼šè¿›è¡Œå€¼æ‹·è´ã€‚ ä»»ä½•æƒ…å†µä¸‹ï¼Œéƒ½ä¼šå¯¹å·²æœ‰å­—ç¬¦ä¸²å€¼åˆ›å»ºæ–°å‰¯æœ¬ï¼Œå¹¶å¯¹è¯¥æ–°å‰¯æœ¬è¿›è¡Œä¼ é€’æˆ–èµ‹å€¼æ“ä½œã€‚

### ä½¿ç”¨å­—ç¬¦

æ‚¨å¯é€šè¿‡`for-in`å¾ªç¯æ¥éå†å­—ç¬¦ä¸²ï¼Œè·å–å­—ç¬¦ä¸²ä¸­æ¯ä¸€ä¸ªå­—ç¬¦çš„å€¼ï¼š

```swift
// Swift ä¸­ä»¥ä¸‹èµ‹å€¼ä¼šæŠ¥é”™
let char: Character = "AB"

// Swift ä¸­ä»¥ä¸‹èµ‹å€¼ä¼šæŠ¥é”™
let char1: Character = ""
var char2: Character = ""

for character in "Dog!ğŸ¶" {
    print(character)
}
// D
// o
// g
// !
// ğŸ¶
```

å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡ä¼ é€’ä¸€ä¸ªå€¼ç±»å‹ä¸º`Character`çš„æ•°ç»„ä½œä¸ºè‡ªå˜é‡æ¥åˆå§‹åŒ–ï¼š

```swift
let catCharacters: [Character] = ["C", "a", "t", "!", "ğŸ±"]
let catString = String(catCharacters)
print(catString)
// æ‰“å°è¾“å‡ºï¼š"Cat!ğŸ±"
```

### é“¾æ¥å­—ç¬¦ä¸²å’Œå­—ç¬¦

æ‚¨å¯ä»¥ç”¨`append()`æ–¹æ³•å°†ä¸€ä¸ªå­—ç¬¦é™„åŠ åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡çš„å°¾éƒ¨ï¼š

```swift
let exclamationMark: Character = "!"
welcome.append(exclamationMark)
// welcome ç°åœ¨ç­‰äº "hello there!"
```

### å­—ç¬¦ä¸²æ’å€¼

*å­—ç¬¦ä¸²æ’å€¼*æ˜¯ä¸€ç§æ„å»ºæ–°å­—ç¬¦ä¸²çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨å…¶ä¸­åŒ…å«å¸¸é‡ã€å˜é‡ã€å­—é¢é‡å’Œè¡¨è¾¾å¼ã€‚**å­—ç¬¦ä¸²å­—é¢é‡**å’Œ**å¤šè¡Œå­—ç¬¦ä¸²å­—é¢é‡**éƒ½å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²æ’å€¼ã€‚ æ‚¨æ’å…¥çš„å­—ç¬¦ä¸²å­—é¢é‡çš„æ¯ä¸€é¡¹éƒ½åœ¨ä»¥åæ–œçº¿ä¸ºå‰ç¼€çš„åœ†æ‹¬å·ä¸­ï¼š

```swift
let multiplier = 3
let message = "\(multiplier) times 2.5 is \(Double(multiplier) * 2.5)"
```

### å­—ç¬¦ä¸²å‡½æ•°åŠè¿ç®—ç¬¦

Swift æ”¯æŒä»¥ä¸‹å‡ ç§å­—ç¬¦ä¸²å‡½æ•°åŠè¿ç®—ç¬¦ï¼š

| åºå· | å‡½æ•°/è¿ç®—ç¬¦ & æè¿°                                           |
| ---- | ------------------------------------------------------------ |
| 1    | **isEmpty**åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œè¿”å›å¸ƒå°”å€¼                    |
| 2    | **hasPrefix(prefix: String)**æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ‹¥æœ‰ç‰¹å®šå‰ç¼€      |
| 3    | **hasSuffix(suffix: String)**æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ‹¥æœ‰ç‰¹å®šåç¼€ã€‚    |
| 4    | **Int(String)**è½¬æ¢å­—ç¬¦ä¸²æ•°å­—ä¸ºæ•´å‹ã€‚ å®ä¾‹: `let myString: String = "256" let myInt: Int? = Int(myString) ` |
| 5    | **String.count**è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦                             |
| 6    | **+**è¿æ¥ä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²                    |
| 7    | **+=**è¿æ¥æ“ä½œç¬¦ä¸¤è¾¹çš„å­—ç¬¦ä¸²å¹¶å°†æ–°å­—ç¬¦ä¸²èµ‹å€¼ç»™å·¦è¾¹çš„æ“ä½œç¬¦å˜é‡ |
| 8    | **==**åˆ¤æ–­ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰                                 |
| 9    | **<**æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹ä¸¤ä¸ªå­—ç¬¦ä¸²çš„å­—æ¯é€ä¸€æ¯”è¾ƒã€‚            |
| 10   | **!=**æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ç›¸ç­‰ã€‚                             |

## æ§åˆ¶æµ

### å¾ªç¯è¯­å¥

| å¾ªç¯ç±»å‹                                                     | æè¿°                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [for-in](https://www.w3cschool.cn/swift/swift-for-in.html)   | éå†ä¸€ä¸ªé›†åˆé‡Œé¢çš„æ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ç”±æ•°å­—è¡¨ç¤ºçš„åŒºé—´ã€æ•°ç»„ä¸­çš„å…ƒç´ ã€å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ã€‚ |
| [repeat...while å¾ªç¯](https://www.w3cschool.cn/swift/swift-repeat-while-loop.html) | ç±»ä¼¼ while è¯­å¥åŒºåˆ«åœ¨äºåˆ¤æ–­å¾ªç¯æ¡ä»¶ä¹‹å‰ï¼Œå…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯çš„ä»£ç å—ã€‚ |
| [while å¾ªç¯](https://www.w3cschool.cn/swift/swift-while-loop.html) | è¿è¡Œä¸€ç³»åˆ—è¯­å¥ï¼Œå¦‚æœæ¡ä»¶ä¸ºtrueï¼Œä¼šé‡å¤è¿è¡Œï¼Œç›´åˆ°æ¡ä»¶å˜ä¸ºfalseã€‚ |

### å¾ªç¯æ§åˆ¶è¯­å¥

å¾ªç¯æ§åˆ¶è¯­å¥æ”¹å˜ä½ ä»£ç çš„æ‰§è¡Œé¡ºåºï¼Œé€šè¿‡å®ƒä½ å¯ä»¥å®ç°ä»£ç çš„è·³è½¬ã€‚Swift ä»¥ä¸‹å‡ ç§å¾ªç¯æ§åˆ¶è¯­å¥ï¼š

| æ§åˆ¶è¯­å¥                                                     | æè¿°                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| [continue è¯­å¥](https://www.w3cschool.cn/swift/swift-continue-statement.html) | å‘Šè¯‰ä¸€ä¸ªå¾ªç¯ä½“ç«‹åˆ»åœæ­¢æœ¬æ¬¡å¾ªç¯è¿­ä»£ï¼Œé‡æ–°å¼€å§‹ä¸‹æ¬¡å¾ªç¯è¿­ä»£ã€‚   |
| [break è¯­å¥](https://www.w3cschool.cn/swift/swift-break-statement.html) | ä¸­æ–­å½“å‰å¾ªç¯ã€‚                                               |
| [fallthrough è¯­å¥](https://www.w3cschool.cn/swift/swift-fallthrough-statement.html) | å¦‚æœåœ¨ä¸€ä¸ªcaseæ‰§è¡Œå®Œåï¼Œç»§ç»­æ‰§è¡Œä¸‹é¢çš„caseï¼Œéœ€è¦ä½¿ç”¨fallthrough(è´¯ç©¿) |

```swift
repeat {
    print( "index çš„å€¼ä¸º \(index)")
    index = index + 1
} while index < 20
```

```swift
var index = 10

switch index {
   case 100  :
      print( "index çš„å€¼ä¸º 100")
   case 10,15  :
      print( "index çš„å€¼ä¸º 10 æˆ– 15")
      fallthrough
   case 5  :
      print( "index çš„å€¼ä¸º 5")
   default :
      print( "é»˜è®¤ case")
}
```

### guard

ä¿è¯åˆ¤æ–­æ¡ä»¶ä¸ºtrueï¼Œç»§ç»­å‘åæ‰§è¡Œ

```swift
let name: String? = "è€ç‹"
let age: Int? = 10

func testGuard () {
    guard let nameNew = name,
        let ageNew = age else {
            print("å§“å æˆ– å¹´é¾„ ä¸ºnil")
            return
    }
    // ä»£ç æ‰§è¡Œè‡³æ­¤, nameNew å’Œ ageNew ä¸€å®šæœ‰å€¼
    print(nameNew + String(ageNew))     // è¾“å‡º:è€ç‹10
}

testGuard()
```

## å­—å…¸

Swift å­—å…¸ç”¨æ¥å­˜å‚¨æ— åºçš„ç›¸åŒç±»å‹æ•°æ®çš„é›†åˆï¼ŒSwift æ•°ç»„ä¼šå¼ºåˆ¶æ£€æµ‹å…ƒç´ çš„ç±»å‹ï¼Œå¦‚æœç±»å‹ä¸åŒåˆ™ä¼šæŠ¥é”™ã€‚

å¦‚æœåˆ›å»ºä¸€ä¸ªå­—å…¸ï¼Œå¹¶èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œåˆ™åˆ›å»ºçš„å­—å…¸å°±æ˜¯å¯ä»¥ä¿®æ”¹çš„ã€‚è¿™æ„å‘³ç€åœ¨åˆ›å»ºå­—å…¸åï¼Œå¯ä»¥é€šè¿‡æ·»åŠ ã€åˆ é™¤ã€ä¿®æ”¹çš„æ–¹å¼æ”¹å˜å­—å…¸é‡Œçš„é¡¹ç›®ã€‚å¦‚æœå°†ä¸€ä¸ªå­—å…¸èµ‹å€¼ç»™å¸¸é‡ï¼Œå­—å…¸å°±ä¸å¯ä¿®æ”¹ï¼Œå¹¶ä¸”å­—å…¸çš„å¤§å°å’Œå†…å®¹éƒ½ä¸å¯ä»¥ä¿®æ”¹ã€‚

```swift
// åˆ›å»ºå­—å…¸
var someDict =  [KeyType: ValueType]()
// åˆ›å»ºç©ºå­—å…¸
var someDict = [Int: String]()
// åˆ›å»ºéç©ºå­—å…¸
var someDict:[Int:String] = [1:"One", 2:"Two", 3:"Three"]
// åŸºäºåºåˆ—çš„å­—å…¸åˆå§‹åŒ–
var cities = ["Haikou", "Beijing", "Nanjing"]
var Distance = [2000,10, 620]
let cityDistanceDict = Dictionary(uniqueKeysWithValues: zip(cities, Distance))

// è¿‡æ»¤
var closeCities = cityDistanceDict.filter { $0.value < 1000 }

// åˆ†ç»„
var cities = ["Delhi","Bangalore","Hyderabad","Dehradun","Bihar"]
var GroupedCities = Dictionary(grouping: cities ) { $0.first! }
// ["D" :["Delhi","Dehradun"], "B" : ["Bengaluru","Bihar"], "H" : ["Hyderabad"]]

// è®¿é—®å­—å…¸
var someVar = someDict[key]
var someVar = someDict[1] // return optional value

// é€šè¿‡updateValueæ–¹æ³•ä¿®æ”¹å­—å…¸ï¼Œè¿”å›å¯é€‰å€¼ï¼Œè¿”å›æ—§çš„value
var oldVal = someDict.updateValue("One æ–°çš„å€¼", forKey: 1)
// é€šè¿‡æŒ‡å®škeyä¿®æ”¹å­—å…¸
someDict[1] = "One æ–°çš„å€¼"

// é€šè¿‡removeValueForKeyæ–¹æ³•åˆ é™¤k-vï¼Œæ–¹æ³•è¿”å›å¯é€‰å€¼ï¼Œå¦‚æœkeyå­˜åœ¨åˆ™è¿”å›å¯¹åº”value
var removedValue = someDict.removeValue(forKey: 2)
// é€šè¿‡æŒ‡å®škeyçš„å€¼ä¸º nil æ¥ç§»é™¤
someDict[2] = nil

// é€šè¿‡for-inéå†
for (key, value) in someDict {
   print("å­—å…¸ key \(key) -  å­—å…¸ value \(value)")
}
// ä½¿ç”¨enumerated()æ–¹æ³•æ¥è¿›è¡Œå­—å…¸éå†ï¼Œè¿”å›çš„æ˜¯å­—å…¸çš„ç´¢å¼•åŠ (key, value) å¯¹
for (key, value) in someDict.enumerated() {
    print("å­—å…¸ key \(key) -  å­—å…¸ (key, value) å¯¹ \(value)")
}
/* è¾“å‡ºç»“æœ
å­—å…¸ key 0 -  å­—å…¸ (key, value) å¯¹ (2, "Two")
å­—å…¸ key 1 -  å­—å…¸ (key, value) å¯¹ (3, "Three")
å­—å…¸ key 2 -  å­—å…¸ (key, value) å¯¹ (1, "One")
*/ 

// k-våˆ†åˆ«è½¬æ¢æˆæ•°ç»„
let dictKeys = [Int](someDict.keys)
let dictValues = [String](someDict.values)

// countã€isEmptyå±æ€§
```

## æ•°ç»„

æ•°æ®è·Ÿå­—å…¸ä¸€æ ·ï¼Œæ£€æŸ¥æ•°æ®ç±»å‹ï¼Œåªèƒ½ä¿å­˜åŒä¸€ç±»å‹æ•°æ®ï¼Œå˜é‡å¯ä¿®æ”¹ï¼Œå¸¸é‡ä¸å¯ä¿®æ”¹

```swift
// åˆ›å»ºç©ºæ•°ç»„
var someInts = [Int]()
// åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–å¤§å°æ•°ç»„
var threeDoubles = Array(repeating: 0.0, count: 3)

var someInts:[Int] = [10, 20, 30]

// é€šè¿‡ä¸‹æ ‡è®¿é—®æ•°ç»„
var someVar = someInts[0]

// ä½¿ç”¨ append() æ–¹æ³•æˆ–è€…èµ‹å€¼è¿ç®—ç¬¦ += åœ¨æ•°ç»„æœ«å°¾æ·»åŠ å…ƒç´ 
var someInts = [Int]()
someInts.append(20)
someInts.append(30)
someInts += [40]

// é€šè¿‡ä¸‹æ ‡ä¿®æ”¹æœ€åä¸€ä¸ªå…ƒç´ 
someInts[2] = 50

// è°ƒç”¨æ•°ç»„çš„insert(_:at:)æ–¹æ³•æ¥åœ¨æŸä¸ªå…·ä½“ç´¢å¼•å€¼ä¹‹å‰æ·»åŠ æ•°æ®é¡¹ï¼š
someInts.insert(60, at: 0)
// åˆ é™¤
let a = someInts.remove(at: 0)

// é€šè¿‡for-inéå†æ•°ç»„
for item in someInts {
   print(item)
}
// é€šè¿‡enumerateæ–¹æ³•éå†æ•°ç»„
for (index, item) in someInts.enumerated() {
   print("åœ¨ index = \(index) ä½ç½®ä¸Šçš„å€¼ä¸º \(item)")
}

// ä½¿ç”¨åŠ æ³•æ“ä½œç¬¦ï¼ˆ+ï¼‰æ¥åˆå¹¶ä¸¤ç§å·²å­˜åœ¨çš„ç›¸åŒç±»å‹æ•°ç»„
var intsA = Array(repeating: 2, count: 2)
var intsB = Array(repeating: 1, count: 3)

var intsC = intsA + intsB

for item in intsC {
   print(item)
}

// countã€isEmptyå±æ€§
```

## Set

ä¸åŒ…å«é‡å¤å€¼ï¼ŒåŒç±»å‹ï¼Œæ— åºï¼Œå€¼å¯æ¯”è¾ƒ

```swift
// è¯­æ³•æ ¼å¼
var someSet = Set<Character>() // å­—ç¬¦å¯ä»¥ç”±é›†åˆçš„æ•°æ®ç±»å‹æ›¿æ¢ã€‚

// è·å–å…ƒç´ æ•°é‡
someSet.count 

// æ’å…¥å€¼
someSet.insert("c")

// åˆ¤æ–­setæ˜¯å¦ä¸ºç©º
someSet.isEmpty 

// åˆ é™¤setä¸­çš„å€¼
someSet.remove("c")

// æ£€æŸ¥setæ˜¯å¦åŒ…å«å€¼
someSet.contains("c")
```

### è¿­ä»£

```swift
for items in someSet {
   print(items)
}

// æ’åºä¹‹åéå†
for items in someSet.sorted() {
   print(items)
}
```

### setæ“ä½œ

```swift
let evens: Set = [10, 12, 14, 16, 18]
let odds: Set = [5, 7, 9, 11, 13]
let primes = [2, 3, 5, 7]
// è”åˆ
odds.union(evens).sorted()
// [5,7,9,10,11,12,13,14,16,18]

// ç›¸äº¤
odds.intersection(evens).sorted()
//[]

// ç›¸å·®
odds.subtracting(primes).sorted()
//[9, 11, 13]	

let houseAnimals: Set = ["ğŸ¶", "ğŸ±"]
let farmAnimals: Set = ["ğŸ®", "ğŸ”", "ğŸ‘", "ğŸ¶", "ğŸ±"]
let cityAnimals: Set = ["ğŸ¦", "ğŸ­"]

houseAnimals.isSubset(of: farmAnimals)
// true
farmAnimals.isSuperset(of: houseAnimals)
// true
farmAnimals.isDisjoint(with: cityAnimals)
// true


```

## å‡½æ•°

```swift
// è¯­æ³•
func funcname(å½¢å‚) -> returntype
{
   Statement1
   â€¦â€¦
   Statement N
   return parameters
}

// å…ƒç»„ä½œä¸ºå‚æ•°
func mult(no1: Int, no2: Int) -> Int {
    return no1 * no2;
}
print(mult(no1: 2, no2: 10))
print(mult(no1: 3, no2: 10))

// å…ƒç»„ä½œä¸ºè¿”å›å€¼
func minMax(array: [Int]) -> (min: Int, max: Int)? {
    if array.isEmpty { return nil; }
    var currentMin = array[0]
    var currentMax = array[0]
    for value in array[1..<array.count] {
        if value < currentMin {
            currentMin = value
        } else if value > currentMax {
            currentMax = value
        }
    }
    return (currentMin, currentMax)
}

if let bounds = minMax(array: [-6, 8, 2, 109, 3, 71]) {
    print("æœ€å°å€¼ä¸º \(bounds.min) ï¼Œæœ€å¤§å€¼ä¸º \(bounds.max)")
}

// å¯ä»¥åœ¨å±€éƒ¨å‚æ•°åå‰æŒ‡å®šå¤–éƒ¨å‚æ•°åï¼Œä¸­é—´ä»¥ç©ºæ ¼åˆ†éš”ï¼Œå¤–éƒ¨å‚æ•°åç”¨äºåœ¨å‡½æ•°è°ƒç”¨æ—¶ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°
func pow(firstArg a: Int, secondArg b: Int) -> Int {
    if b <= 0 { return 1; }
    var res = a
    for _ in 1..<b {
        res = res * a
    }
    print(res)
    return res
}
pow(firstArg: 5, secondArg: 0)

// å¯å˜å‚æ•°
// å¯å˜å‚æ•°å¯ä»¥æ¥å—é›¶ä¸ªæˆ–å¤šä¸ªå€¼ï¼Œé€šè¿‡åœ¨å˜é‡ç±»å‹ååé¢åŠ å…¥ï¼ˆ...ï¼‰çš„æ–¹å¼æ¥å®šä¹‰
func vari<N>(members: N...){
    for i in members {
        print(i)
    }
}
vari(members: 4,3,5)
vari(members: 4.5, 3.1, 5.6)
vari(members: "yuanfudao", "zebra", "swift")
```

ä¸€èˆ¬é»˜è®¤åœ¨å‡½æ•°ä¸­å®šä¹‰çš„å‚æ•°éƒ½æ˜¯å¸¸é‡å‚æ•°ï¼Œå¦‚æœæƒ³è¦å£°æ˜ä¸€ä¸ªå˜é‡å‚æ•°ï¼Œå¯ä»¥åœ¨å‰é¢åŠ ä¸Švarï¼Œè¿™æ ·å°±å¯ä»¥æ”¹å˜è¿™ä¸ªå‚æ•°çš„å€¼äº†ã€‚

ä¾‹å¦‚ï¼š

```swift
func getName(var id: String).........
```

å®šä¹‰ä¸€ä¸ªè¾“å…¥è¾“å‡ºå‚æ•°æ—¶ï¼Œåœ¨å‚æ•°å®šä¹‰å‰åŠ  inout å…³é”®å­—ã€‚ä¸€ä¸ªè¾“å…¥è¾“å‡ºå‚æ•°æœ‰ä¼ å…¥å‡½æ•°çš„å€¼ï¼Œè¿™ä¸ªå€¼è¢«å‡½æ•°ä¿®æ”¹ï¼Œç„¶åè¢«ä¼ å‡ºå‡½æ•°ï¼Œæ›¿æ¢åŸæ¥çš„å€¼ã€‚

## é—­åŒ…

Swiftä¸­çš„é—­åŒ…æœ‰å¾ˆå¤šä¼˜åŒ–çš„åœ°æ–¹: 

1. æ ¹æ®ä¸Šä¸‹æ–‡æ¨æ–­å‚æ•°å’Œè¿”å›å€¼ç±»å‹
2. ä»å•è¡Œè¡¨è¾¾å¼é—­åŒ…ä¸­éšå¼è¿”å›ï¼ˆä¹Ÿå°±æ˜¯é—­åŒ…ä½“åªæœ‰ä¸€è¡Œä»£ç ï¼Œå¯ä»¥çœç•¥returnï¼‰
3. å¯ä»¥ä½¿ç”¨ç®€åŒ–å‚æ•°åï¼Œå¦‚$0, $1(ä»0å¼€å§‹ï¼Œè¡¨ç¤ºç¬¬iä¸ªå‚æ•°...)
4. æä¾›äº†å°¾éšé—­åŒ…è¯­æ³•(Trailing closure syntax)

```swift
// è¯­æ³•æ ¼å¼
{(parameters) -> return type in
   statements
}

// demo 
let divide = {(val1: Int, val2: Int) -> Int in
    return val1 / val2
}
let result = divide(200, 20)
print (result)

var names = ["AT", "AE", "D", "S", "BE"]
var reversed = names.sorted { (s1, s2) -> Bool in
    return s1 > s2
}
// å‚æ•°åç§°ç¼©å†™
var reversed = names.sorted(by: { $0 > $1})
// è¿ç®—ç¬¦å‡½æ•°ï¼ŒStringå®šä¹‰äº†å¤§äºçš„å®ç°ï¼Œéœ€è¦ä¸¤ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œè‡ªåŠ¨æ¨æ–­ä¸º$0 > $1
var reversed = names.sorted(by: >)

print(reversed)

// å°¾éšé—­åŒ…ï¼Œæœ€åä¸€ä¸ªå‚æ•°æ˜¯é—­åŒ…
var reversed = names.sorted() { $0 < $1}
var reversed = names.sorted { $0 < $1}

// æ•è·å€¼
func makeIncrementor(forIncrement amount: Int) -> () -> Int {
    var runningTotal = 0
    func incrementor() -> Int {
        // é—­åŒ…ä¿å­˜äº†runningTotalçš„å€¼å¾—å‰¯æœ¬ï¼Œå› æ­¤å¤šæ¬¡è°ƒç”¨ä¼šä¸€ç›´ç´¯åŠ 
        runningTotal += amount
        return runningTotal
    }
    return incrementor
}

let incrementByTen = makeIncrementor(forIncrement: 10)

// è¿”å›çš„å€¼ä¸º10
print(incrementByTen())
// è¿”å›çš„å€¼ä¸º20
print(incrementByTen())
// è¿”å›çš„å€¼ä¸º30
print(incrementByTen())

```

æ³¨æ„ï¼šä¸Šé¢çš„ä¾‹å­ä¸­ï¼ŒincrementByTenæ˜¯å¸¸é‡ï¼Œä½†æ˜¯è¿™äº›å¸¸é‡æŒ‡å‘çš„é—­åŒ…ä»ç„¶å¯ä»¥å¢åŠ å…¶æ•è·çš„å˜é‡å€¼ã€‚

è¿™æ˜¯å› ä¸ºå‡½æ•°å’Œé—­åŒ…éƒ½æ˜¯å¼•ç”¨ç±»å‹ã€‚

## æšä¸¾

- å®ƒå£°æ˜åœ¨ç±»ä¸­ï¼Œå¯ä»¥é€šè¿‡å®ä¾‹åŒ–ç±»æ¥è®¿é—®å®ƒçš„å€¼ã€‚
- æšä¸¾ä¹Ÿå¯ä»¥å®šä¹‰æ„é€ å‡½æ•°ï¼ˆinitializersï¼‰æ¥æä¾›ä¸€ä¸ªåˆå§‹æˆå‘˜å€¼ï¼›å¯ä»¥åœ¨åŸå§‹çš„å®ç°åŸºç¡€ä¸Šæ‰©å±•å®ƒä»¬çš„åŠŸèƒ½ã€‚
- å¯ä»¥éµå®ˆåè®®ï¼ˆprotocolsï¼‰æ¥æä¾›æ ‡å‡†çš„åŠŸèƒ½ã€‚

```swift
// è¯­æ³•æ ¼å¼
enum enumname {
   // æšä¸¾å®šä¹‰æ”¾åœ¨è¿™é‡Œ
}

// å®šä¹‰æšä¸¾
enum DaysofaWeek {
    case Sunday
    case Monday
    case TUESDAY
    case WEDNESDAY
    case THURSDAY
    case FRIDAY
    case Saturday
}

var weekDay = DaysofaWeek.THURSDAY
// å½“weekDayçš„ç±»å‹å·²çŸ¥æ—¶ï¼Œå†æ¬¡ä¸ºå…¶èµ‹å€¼å¯ä»¥çœç•¥æšä¸¾å
weekDay = .THURSDAY
switch weekDay
{
case .Sunday:
    print("æ˜ŸæœŸå¤©")
case .Monday:
    print("æ˜ŸæœŸä¸€")
case .TUESDAY:
    print("æ˜ŸæœŸäºŒ")
case .WEDNESDAY:
    print("æ˜ŸæœŸä¸‰")
case .THURSDAY:
    print("æ˜ŸæœŸå››")
case .FRIDAY:
    print("æ˜ŸæœŸäº”")
case .Saturday:
    print("æ˜ŸæœŸå…­")
}
```

- ç›¸å…³å€¼

- ```swift
  enum Student {
      case Name(String)
      case Mark(Int, Int, Int)
  }
  var studDetails = Student.Name("Swift")
  var studMarks = Student.Mark(98, 97, 95)
  switch studMarks {
  case .Name(let studName):
      print("å­¦ç”Ÿçš„åå­—æ˜¯: \(studName)ã€‚")
  case .Mark(let Mark1, let Mark2, let Mark3):
      print("å­¦ç”Ÿçš„æˆç»©æ˜¯: \(Mark1), \(Mark2), \(Mark3)ã€‚")
  }
  ```

- åŸå§‹å€¼

  åŸå§‹å€¼å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ï¼Œæˆ–è€…ä»»ä½•æ•´å‹å€¼æˆ–æµ®ç‚¹å‹å€¼ã€‚æ¯ä¸ªåŸå§‹å€¼åœ¨å®ƒçš„æšä¸¾å£°æ˜ä¸­å¿…é¡»æ˜¯å”¯ä¸€çš„

  åœ¨åŸå§‹å€¼ä¸ºæ•´æ•°çš„æšä¸¾æ—¶ï¼Œä¸éœ€è¦æ˜¾å¼çš„ä¸ºæ¯ä¸€ä¸ªæˆå‘˜èµ‹å€¼ï¼ŒSwiftä¼šè‡ªåŠ¨ä¸ºä½ èµ‹å€¼ã€‚

  ä¾‹å¦‚ï¼Œå½“ä½¿ç”¨æ•´æ•°ä½œä¸ºåŸå§‹å€¼æ—¶ï¼Œéšå¼èµ‹å€¼çš„å€¼ä¾æ¬¡é€’å¢1ã€‚å¦‚æœç¬¬ä¸€ä¸ªå€¼æ²¡æœ‰è¢«èµ‹åˆå€¼ï¼Œå°†ä¼šè¢«è‡ªåŠ¨ç½®ä¸º0

  ```swift
  enum Month: Int {
      case January = 1, February, March, April, May, June, July, August, September, October, November, December
  }
  
  let yearMonth = Month.May.rawValue
  print("æ•°å­—æœˆä»½ä¸º: \(yearMonth)ã€‚") 
  // è¾“å‡ºç»“æœä¸º5
  ```

- åŒºåˆ«

| ç›¸å…³å€¼                                                       | åŸå§‹å€¼                |
| ------------------------------------------------------------ | --------------------- |
| ä¸åŒæ•°æ®ç±»å‹                                                 | ç›¸åŒæ•°æ®ç±»å‹          |
| å®ä¾‹: enum {10,0.8,"Hello"}                                  | å®ä¾‹: enum {10,35,50} |
| å€¼çš„åˆ›å»ºåŸºäºå¸¸é‡æˆ–å˜é‡                                       | é¢„å…ˆå¡«å……çš„å€¼          |
| ç›¸å…³å€¼æ˜¯å½“ä½ åœ¨åˆ›å»ºä¸€ä¸ªåŸºäºæšä¸¾æˆå‘˜çš„æ–°å¸¸é‡æˆ–å˜é‡æ—¶æ‰ä¼šè¢«è®¾ç½®ï¼Œå¹¶ä¸”æ¯æ¬¡å½“ä½ è¿™ä¹ˆåšå¾—æ—¶å€™ï¼Œå®ƒçš„å€¼å¯ä»¥æ˜¯ä¸åŒçš„ã€‚ | åŸå§‹å€¼å§‹ç»ˆæ˜¯ç›¸åŒçš„    |

## ç»“æ„ä½“

ä¸ C å’Œ Objective C ä¸åŒçš„æ˜¯ï¼š

- ç»“æ„ä½“ä¸éœ€è¦åŒ…å«å®ç°æ–‡ä»¶å’Œæ¥å£ã€‚ 
- ç»“æ„ä½“å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå•ä¸€æ–‡ä»¶ï¼Œä¸”ç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆé¢å‘å…¶å®ƒä»£ç çš„å¤–éƒ¨æ¥å£ã€‚ 

ç»“æ„ä½“æ€»æ˜¯é€šè¿‡è¢«å¤åˆ¶çš„æ–¹å¼åœ¨ä»£ç ä¸­ä¼ é€’ï¼Œå› æ­¤å®ƒçš„å€¼æ˜¯ä¸å¯ä¿®æ”¹çš„ã€‚

```swift
// è¯­æ³•
struct nameStruct { 
   Definition 1
   Definition 2
   â€¦â€¦
   Definition N
}

struct MarksStruct {
   var mark: Int

   init(mark: Int) {
      self.mark = mark
   }
}
var aStruct = MarksStruct(mark: 98)
var bStruct = aStruct // aStruct å’Œ bStruct æ˜¯ä½¿ç”¨ç›¸åŒå€¼çš„ç»“æ„ä½“ï¼
bStruct.mark = 97
print(aStruct.mark) // 98
print(bStruct.mark) // 97
```

## ç±»

Swift å¹¶ä¸è¦æ±‚ä½ ä¸ºè‡ªå®šä¹‰ç±»å»åˆ›å»ºç‹¬ç«‹çš„æ¥å£å’Œå®ç°æ–‡ä»¶ã€‚ä½ æ‰€è¦åšçš„æ˜¯åœ¨ä¸€ä¸ªå•ä¸€æ–‡ä»¶ä¸­å®šä¹‰ä¸€ä¸ªç±»ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ç”Ÿæˆé¢å‘å…¶å®ƒä»£ç çš„å¤–éƒ¨æ¥å£ã€‚

```swift
// è¯­æ³•
Class classname {
   Definition 1
   Definition 2
   â€¦â€¦
   Definition N
}

class studentMarks {
   var mark1 = 300
   var mark2 = 400
   var mark3 = 900
}
// å®ä¾‹åŒ–
let marks = studentMarks()
// è®¿é—®å±æ€§
print("Mark1 is \(marks.mark1)")
print("Mark2 is \(marks.mark2)")
print("Mark3 is \(marks.mark3)")
```

#### æ’ç­‰è¿ç®—ç¬¦

å› ä¸ºç±»æ˜¯å¼•ç”¨ç±»å‹ï¼Œæœ‰å¯èƒ½æœ‰å¤šä¸ªå¸¸é‡å’Œå˜é‡åœ¨åå°åŒæ—¶å¼•ç”¨æŸä¸€ä¸ªç±»å®ä¾‹ã€‚

ä¸ºäº†èƒ½å¤Ÿåˆ¤å®šä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡æ˜¯å¦å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹ï¼ŒSwift å†…å»ºäº†ä¸¤ä¸ªæ’ç­‰è¿ç®—ç¬¦ï¼š

| **æ’ç­‰è¿ç®—ç¬¦**                                  | **ä¸æ’ç­‰è¿ç®—ç¬¦**                                  |
| ----------------------------------------------- | ------------------------------------------------- |
| è¿ç®—ç¬¦ä¸ºï¼š===                                   | è¿ç®—ç¬¦ä¸ºï¼š!==                                     |
| å¦‚æœä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡å¼•ç”¨åŒä¸€ä¸ªç±»å®ä¾‹åˆ™è¿”å› true | å¦‚æœä¸¤ä¸ªå¸¸é‡æˆ–è€…å˜é‡å¼•ç”¨ä¸åŒä¸€ä¸ªç±»å®ä¾‹åˆ™è¿”å› true |

```swift
class SampleClass: Equatable {
    let myProperty: String
    init(s: String) {
        myProperty = s
    }
}
func ==(lhs: SampleClass, rhs: SampleClass) -> Bool {
    return lhs.myProperty == rhs.myProperty
}

let spClass1 = SampleClass(s: "Hello")
let spClass2 = SampleClass(s: "Hello")

if spClass1 === spClass2 {// false
    print("å¼•ç”¨ç›¸åŒçš„ç±»å®ä¾‹ \(spClass1)")
}

if spClass1 !== spClass2 {// true
    print("å¼•ç”¨ä¸ç›¸åŒçš„ç±»å®ä¾‹ \(spClass2)")
}
```

## å±æ€§

### å­˜å‚¨å±æ€§

å¸¸è§çš„å¸¸é‡ã€å˜é‡éƒ½æ˜¯å­˜å‚¨å±æ€§

```swift
struct Number {
   var digits: Int
   let pi = 3.1415
}

var n = Number(digits: 12345)
n.digits = 67

print("\(n.digits)")
print("\(n.pi)")
```

### å»¶è¿Ÿå­˜å‚¨å±æ€§

å»¶è¿Ÿå­˜å‚¨å±æ€§æ˜¯æŒ‡å½“ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨çš„æ—¶å€™æ‰ä¼šè®¡ç®—å…¶åˆå§‹å€¼çš„å±æ€§ã€‚

åœ¨å±æ€§å£°æ˜å‰ä½¿ç”¨ **lazy** æ¥æ ‡ç¤ºä¸€ä¸ªå»¶è¿Ÿå­˜å‚¨å±æ€§ã€‚

> å¿…é¡»å°†å»¶è¿Ÿå­˜å‚¨å±æ€§å£°æ˜æˆå˜é‡ï¼ˆä½¿ç”¨`var`å…³é”®å­—ï¼‰ï¼Œå› ä¸ºå±æ€§çš„å€¼åœ¨å®ä¾‹æ„é€ å®Œæˆä¹‹å‰å¯èƒ½æ— æ³•å¾—åˆ°ã€‚è€Œå¸¸é‡å±æ€§åœ¨æ„é€ è¿‡ç¨‹å®Œæˆä¹‹å‰å¿…é¡»è¦æœ‰åˆå§‹å€¼ï¼Œå› æ­¤æ— æ³•å£°æ˜æˆå»¶è¿Ÿå±æ€§ã€‚ 

```swift
class sample {
    lazy var no = number() // `var` å…³é”®å­—æ˜¯å¿…é¡»çš„
}

class number {
    var name = "swift"
}

var firstsample = sample()
print(firstsample.no.name)
```

### è®¡ç®—å±æ€§

é™¤å­˜å‚¨å±æ€§å¤–ï¼Œç±»ã€ç»“æ„ä½“å’Œæšä¸¾å¯ä»¥å®šä¹‰*è®¡ç®—å±æ€§*ï¼Œè®¡ç®—å±æ€§ä¸ç›´æ¥å­˜å‚¨å€¼ï¼Œè€Œæ˜¯æä¾›ä¸€ä¸ª getter æ¥è·å–å€¼ï¼Œä¸€ä¸ªå¯é€‰çš„ setter æ¥é—´æ¥è®¾ç½®å…¶ä»–å±æ€§æˆ–å˜é‡çš„å€¼ã€‚

```swift
class sample {
    var no1 = 0.0, no2 = 0.0
    var length = 300.0, breadth = 150.0
    
    var middle: (Double, Double) {
        get {
            return (lngth / 2, breadth / 2)
        }
        // å¦‚æœè®¡ç®—å±æ€§çš„ setter æ²¡æœ‰å®šä¹‰è¡¨ç¤ºæ–°å€¼çš„å‚æ•°åï¼Œåˆ™å¯ä»¥ä½¿ç”¨é»˜è®¤åç§° newValueã€‚
        set(axis) {
            no1 = axis.0 - (length / 2)
            no2 = axis.1 - (breadth / 2)
        }
    }
}

var result = sample()
print(result.middle)
result.middle = (0.0, 10.0)

print(result.no1)
print(result.no2)
```

### åªè¯»è®¡ç®—å±æ€§

åªæœ‰ getter æ²¡æœ‰ setter çš„è®¡ç®—å±æ€§å°±æ˜¯åªè¯»è®¡ç®—å±æ€§ã€‚

åªè¯»è®¡ç®—å±æ€§æ€»æ˜¯è¿”å›ä¸€ä¸ªå€¼ï¼Œå¯ä»¥é€šè¿‡ç‚¹(.)è¿ç®—ç¬¦è®¿é—®ï¼Œä½†ä¸èƒ½è®¾ç½®æ–°çš„å€¼ã€‚

```swift
class film {
    var head = ""
    var duration = 0.0
    var metaInfo: [String:String] {
        return [
            "head": self.head,
            "duration":"\(self.duration)"
        ]
    }
}

var movie = film()
movie.head = "Swift å±æ€§"
movie.duration = 3.09

print(movie.metaInfo["head"]!)
print(movie.metaInfo["duration"]!)
```

> æ³¨æ„ï¼š
>
> å¿…é¡»ä½¿ç”¨`var`å…³é”®å­—å®šä¹‰è®¡ç®—å±æ€§ï¼ŒåŒ…æ‹¬åªè¯»è®¡ç®—å±æ€§ï¼Œå› ä¸ºå®ƒä»¬çš„å€¼ä¸æ˜¯å›ºå®šçš„ã€‚`let`å…³é”®å­—åªç”¨æ¥å£°æ˜å¸¸é‡å±æ€§ï¼Œè¡¨ç¤ºåˆå§‹åŒ–åå†ä¹Ÿæ— æ³•ä¿®æ”¹çš„å€¼ã€‚

### å±æ€§è§‚å¯Ÿå™¨

å¯ä»¥ä¸ºå±æ€§æ·»åŠ å¦‚ä¸‹çš„ä¸€ä¸ªæˆ–å…¨éƒ¨è§‚å¯Ÿå™¨ï¼š

- `willSet`åœ¨è®¾ç½®æ–°çš„å€¼ä¹‹å‰è°ƒç”¨
- `didSet`åœ¨æ–°çš„å€¼è¢«è®¾ç½®ä¹‹åç«‹å³è°ƒç”¨
- willSetå’ŒdidSetè§‚å¯Ÿå™¨åœ¨å±æ€§åˆå§‹åŒ–è¿‡ç¨‹ä¸­ä¸ä¼šè¢«è°ƒç”¨

```swift
class Samplepgm {
    var counter: Int = 0 {
        willSet(newTotal) {
            print("è®¡æ•°å™¨: \(newTotal)")
        }
        didSet {
            if counter > oldValue {
                print("æ–°å¢æ•° \(counter - oldValue)")
            }
        }
    }
}
let NewCounter = Samplepgm()
NewCounter.counter = 100
NewCounter.counter = 800
```

### ç±»å‹å±æ€§

ç±»å‹å±æ€§æ˜¯ä½œä¸ºç±»å‹å®šä¹‰çš„ä¸€éƒ¨åˆ†å†™åœ¨ç±»å‹æœ€å¤–å±‚çš„èŠ±æ‹¬å·ï¼ˆ{}ï¼‰å†…ã€‚

ä½¿ç”¨å…³é”®å­— static æ¥å®šä¹‰å€¼ç±»å‹çš„ç±»å‹å±æ€§ï¼Œå…³é”®å­— class æ¥ä¸ºç±»å®šä¹‰ç±»å‹å±æ€§ã€‚

```
struct Structname {
   static var storedTypeProperty = " "
   static var computedTypeProperty: Int {
      // è¿™é‡Œè¿”å›ä¸€ä¸ª Int å€¼
   }
}

enum Enumname {
   static var storedTypeProperty = " "
   static var computedTypeProperty: Int {
      // è¿™é‡Œè¿”å›ä¸€ä¸ª Int å€¼
   }
}

class Classname {
   class var computedTypeProperty: Int {
      // è¿™é‡Œè¿”å›ä¸€ä¸ª Int å€¼
   }
}
```

> æ³¨æ„ï¼š
> ä¾‹å­ä¸­çš„è®¡ç®—å‹ç±»å‹å±æ€§æ˜¯åªè¯»çš„ï¼Œä½†ä¹Ÿå¯ä»¥å®šä¹‰å¯è¯»å¯å†™çš„è®¡ç®—å‹ç±»å‹å±æ€§ï¼Œè·Ÿå®ä¾‹è®¡ç®—å±æ€§çš„è¯­æ³•ç±»ä¼¼ã€‚ 

### è·å–å’Œè®¾ç½®ç±»å‹å±æ€§çš„å€¼

ç±»ä¼¼äºå®ä¾‹çš„å±æ€§ï¼Œç±»å‹å±æ€§çš„è®¿é—®ä¹Ÿæ˜¯é€šè¿‡ç‚¹è¿ç®—ç¬¦(.)æ¥è¿›è¡Œã€‚ä½†æ˜¯ï¼Œç±»å‹å±æ€§æ˜¯é€šè¿‡ç±»å‹æœ¬èº«æ¥è·å–å’Œè®¾ç½®ï¼Œè€Œä¸æ˜¯é€šè¿‡å®ä¾‹ã€‚å®ä¾‹å¦‚ä¸‹ï¼š

```
struct StudMarks {
   static let markCount = 97
   static var totalCount = 0
   var InternalMarks: Int = 0 {
      didSet {
         if InternalMarks > StudMarks.markCount {
            InternalMarks = StudMarks.markCount
         }
         if InternalMarks > StudMarks.totalCount {
            StudMarks.totalCount = InternalMarks
         }
      }
   }
}

var stud1Mark1 = StudMarks()
var stud1Mark2 = StudMarks()

stud1Mark1.InternalMarks = 98
print(stud1Mark1.InternalMarks) 

stud1Mark2.InternalMarks = 87
print(stud1Mark2.InternalMarks)
```

## æ–¹æ³•

### è¯­æ³•

```swift
func funcname(Parameters) -> returntype {
   Statement1
   Statement2
   ---
   Statement N
   return parameters
}
```

### å±€éƒ¨å’Œå¤–éƒ¨å‚æ•°åç§°

Swift 4é€šè¿‡å°†ç¬¬ä¸€ä¸ªå‚æ•°åç§°å£°æ˜ä¸ºå±€éƒ¨å‚æ•°åç§°ï¼Œè€Œå…¶ä½™å‚æ•°åç§°ä¸ºå…¨å±€å‚æ•°åç§°ï¼Œæä¾›äº†æ–¹æ³•çš„çµæ´»æ€§ã€‚ è¿™é‡Œ`no1`ç”±Swift 4æ–¹æ³•å£°æ˜ä¸ºå±€éƒ¨å‚æ•°åç§°ã€‚ `no2`ç”¨äºå…¨å±€å£°æ˜å¹¶é€šè¿‡ç¨‹åºè®¿é—®ã€‚

```swift
class division {
   var count: Int = 0
   func incrementBy(no1: Int, and no2: Int) {
      count = no1 / no2
      print(count)
   }
}

let counter = division()
counter.incrementBy(no1: 1800, no2: 3)
counter.incrementBy(no1: 1600, no2: 5)
counter.incrementBy(no1: 11000, no2: 3)
```

### å®ä¾‹æ–¹æ³•ä¿®æ”¹å€¼ç±»å‹

ç»“æ„ä½“å’Œæšä¸¾éƒ½æ˜¯å€¼ç±»å‹ï¼Œä¸èƒ½é€šè¿‡å®ä¾‹æ–¹æ³•ä¿®æ”¹å±æ€§ï¼Œå¯ä»¥é€šè¿‡mutatingå®ç°å®ä¾‹æ–¹æ³•ä¿®æ”¹å±æ€§

```swift
struct area {
   var length = 1
   var breadth = 1

   func area() -> Int {
      return length * breadth
   }
   mutating func scaleBy(res: Int) {
      length *= res
      breadth *= res
      print(length)
      print(breadth)
   }
}

var val = area(length: 3, breadth: 5)
val.scaleBy(res: 3)
val.scaleBy(res: 30)
val.scaleBy(res: 300)
/* è¾“å‡ºç»“æœ
9
15
270
450
81000
135000
*/
```

### ç±»å‹æ–¹æ³•

```swift
class Math {
   class func abs(number: Int) -> Int {
      if number < 0 {
         return (-number)
      } else {
         return number
      }
   }
}

struct absno {
   static func abs(number: Int) -> Int {
      if number < 0 {
         return (-number)
      } else {
         return number
      }
   }
}

let no = Math.abs(number: -35)
let num = absno.abs(number: -5)

print(no)
print(num)
```

## ä¸‹æ ‡

```swift
struct subexample {
   let decrementer: Int
   subscript(index: Int) -> Int {
      return decrementer / index
   }
}
let division = subexample(decrementer: 100)

print("The number is divisible by \(division[9]) times")

class daysofaweek {
   private var days = ["Sunday", "Monday", "Tuesday", "Wednesday",
      "Thursday", "Friday", "saturday"]
   subscript(index: Int) -> String {
      get {
         return days[index]
      }
      set(newValue) {
         self.days[index] = newValue
      }
   }
}
var p = daysofaweek()

print(p[0])
```

### ä¸‹æ ‡ä¸­çš„é€‰é¡¹

å®šä¹‰å¤šä¸ªä¸‹æ ‡ç§°ä¸ºâ€œä¸‹æ ‡é‡è½½â€ï¼Œç±»æˆ–ç»“æ„å¯æ ¹æ®éœ€è¦æä¾›å¤šä¸ªä¸‹æ ‡å®šä¹‰ã€‚ è¿™äº›å¤šä¸ªä¸‹æ ‡æ˜¯æ ¹æ®ä¸‹æ ‡æ‹¬å·ä¸­å£°æ˜çš„å€¼çš„ç±»å‹æ¨æ–­çš„ã€‚å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ä»£ç 

```swift
struct Matrix {
   let rows: Int, columns: Int
   var print: [Double]
   init(rows: Int, columns: Int) {
      self.rows = rows
      self.columns = columns
      print = Array(count: rows * columns, repeatedValue: 0.0)
   }
   subscript(row: Int, column: Int) -> Double {
      get {
         return print[(row * columns) + column]
      }
      set {
         print[(row * columns) + column] = newValue
      }
   }
}
var mat = Matrix(rows: 3, columns: 3)

mat[0,0] = 1.0
mat[0,1] = 2.0
mat[1,0] = 3.0
mat[1,1] = 5.0

print("\(mat[0,0])")
```

## ç»§æ‰¿

### æ–¹æ³•è¦†ç›–

overrideå…³é”®å­—ç”¨äºè¦†ç›–è¶…ç±»ä¸­å£°æ˜çš„æ–¹æ³•ï¼Œsuperå…³é”®å­—ç”¨ä½œè®¿é—®è¶…ç±»ä¸­çš„æ–¹æ³•ï¼Œå±æ€§å’Œä¸‹æ ‡çš„å‰ç¼€

```swift
class cricket {
   func print() {
      print("Welcome to Swift 4 Super Class")
   }
}

class tennis: cricket {
   override func print() {
      print("Welcome to Swift 4 Sub Class")
   }
}

let cricinstance = cricket()
cricinstance.print()

let tennisinstance = tennis()
tennisinstance.print()
```

### å±æ€§è¦†ç›–

- å½“ä¸ºè¦†ç›–å±æ€§å®šä¹‰`setter`æ—¶ï¼Œä¹Ÿå¿…é¡»å®šä¹‰`getter`ã€‚
- å½“ä¸æƒ³ä¿®æ”¹ç»§æ‰¿çš„å±æ€§`getter`æ—¶ï¼Œå¯ä»¥ç®€å•åœ°å°†ç»§æ‰¿çš„å€¼é€šè¿‡è¯­æ³•`super.someProperty`ä¼ é€’ç»™è¶…ç±»ã€‚

```swift
class Circle {
   var radius = 12.5
   var area: String {
      return "of rectangle for \(radius) "
   }
}

class Rectangle: Circle {
   var print = 7
   override var area: String {
      return super.area + " is now overridden as \(print)"
   }
}

let rect = Rectangle()
rect.radius = 25.0
rect.print = 3
print("Radius \(rect.area)")
```

### è¦†ç›–å±æ€§è§‚å¯Ÿå‘˜

```swift
class Square: Rectangle {
   override var radius: Double {
      didSet {
         print = Int(radius/5.0)+1
      }
   }
}

let sq = Square()
sq.radius = 100.0
print("Radius \(sq.area)")
```

### é˜²æ­¢è¦†ç›–çš„finalå±æ€§

finalå…³é”®å­—å¯ç”¨äºç±»ã€å±æ€§ã€æ–¹æ³•ã€ä¸‹æ ‡ï¼Œå£°æ˜ä¹‹åä¸å…è®¸è¦†ç›–

```swift
final class Circle {
   final var radius = 12.5
   var area: String {
      return "of rectangle for \(radius) "
   }
}

class Rectangle: Circle { // error, ä¸å…è®¸ç»§æ‰¿
   var print = 7
   override var area: String { // error, ä¸å…è®¸ç»§æ‰¿
      return super.area + " is now overridden as \(print)"
   }
}

let rect = Rectangle()
rect.radius = 25.0
rect.print = 3
print("Radius \(rect.area)")

class Square: Rectangle {
   override var radius: Double { // error, ä¸å…è®¸ç»§æ‰¿
      didSet {
         print = Int(radius/5.0)+1
      }
   }
}

let sq = Square()
sq.radius = 100.0
print("Radius \(sq.area)")
```

## æ„é€ å‡½æ•°

### è¯­æ³•

```swift
init() {
   //New Instance initialization goes here
}

struct rectangle {
   var length: Double
   var breadth: Double
   // é€šè¿‡initåˆå§‹åŒ–
   init() { 
      length = 6
      breadth = 12
   }
}

struct rectangle {
   // é€šè¿‡è®¾ç½®é»˜è®¤å€¼åˆå§‹åŒ–
   var length = 6
   var breadth = 12
}

var area = rectangle()
print("area of rectangle is \(area.length*area.breadth)")
```

### å‚æ•°åˆå§‹åŒ–

```swift
struct Rectangle {
   var length: Double
   var breadth: Double
   var area: Double

   init(fromLength length: Double, fromBreadth breadth: Double) {
      self.length = length
      self.breadth = breadth
      area = length * breadth
   }
}
```

### å±€éƒ¨å’Œå¤–éƒ¨å‚æ•°

åŒå‡½æ•°å±€éƒ¨å¤–éƒ¨å‚æ•°

ä¸‹æ»‘çº¿è¡¨ç¤ºä¸éœ€è¦å¤–éƒ¨åç§°

```swift
struct Rectangle {
   var length: Double

   init(frombreadth breadth: Double) {
      length = breadth * 10
   }
   init(_ area: Double) {
      length = area
   }
}
```

### optionalå±æ€§ç±»å‹

è‡ªåŠ¨åˆå§‹åŒ–ä¸ºnil

```swift
struct Rectangle {
   var length: Double?
   init(_ area: Double) {
      length = area
   }
}

let rectarea = Rectangle(180.0)
print("area is: \(rectarea.length)")
// area is: Optional(180.0)
```

### åˆå§‹åŒ–æœŸé—´ä¿®æ”¹å¸¸é‡å±æ€§

```swift
struct Rectangle {
   let length: Double?
   init(_ area: Double) {
      length = area
   }
}

let rectarea = Rectangle(180.0)
print("area is: \(rectarea.length)")
```

### é»˜è®¤åˆå§‹åŒ–æ–¹æ³•

é»˜è®¤åˆå§‹å€¼è®¾å®šé¡¹ä¸ºå…¶æ‰€æœ‰å£°æ˜çš„åŸºç±»æˆ–ç»“æ„å±æ€§æä¾›ä¸€ä¸ªæ–°å®ä¾‹ï¼Œå¹¶ä½¿ç”¨é»˜è®¤å€¼ã€‚

### æŒ‡å®šã€ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•

```swift
class mainClass {
   var no1 : Int // local storage
   init(no1 : Int) {
      self.no1 = no1 // initialization
   }
}

class subClass : mainClass {
   var no2 : Int
   // æŒ‡å®šåˆå§‹åŒ–
   init(no1 : Int, no2 : Int) {
      self.no2 = no2
      super.init(no1:no1)
   }
   // ä¾¿æ·åˆå§‹åŒ–æ–¹æ³•
   override convenience init(no1: Int) {
      self.init(no1:no1, no2:0)
   }
}

let res = mainClass(no1: 20)
let print = subClass(no1: 30, no2: 50)

print("res is: \(res.no1)")
print("res is: \(print.no1)")
print("res is: \(print.no2)")
```

### å¯å¤±è´¥çš„åˆå§‹åŒ–æ–¹æ³•

```swift
struct studrecord {
   let stname: String
   init?(stname: String) {
      if stname.isEmpty {return nil }
      self.stname = stname
   }
}

enum functions {
   case a, b, c, d
   init?(funct: String) {
      switch funct {
      case "one":
         self = .a
      case "two":
         self = .b
      case "three":
         self = .c
      case "four":
         self = .d
      default:
         return nil
      }
   }
}
```

### å¿…é¡»çš„åˆå§‹åŒ–æ–¹æ³•

```swift
class classA {
   required init() {
      var a = 10
      print(a)
   }
}

class classB: classA {
   required init() {
      var b = 30
      print(b)
   }
}

let res = classA()
let print = classB()
```

## ææ„å‡½æ•°

```swift
var counter = 0; // for reference counting
class baseclass {
   init() {
      counter++;
   }
   deinit {
      counter--;
   }
}
var print: baseclass? = baseclass()

print(counter)
print = nil
print(counter)
```

## åè®®

### è¯­æ³•

```swift
protocol SomeProtocol {
	// protocol definition
}

// æšä¸¾ã€structã€ç±»éƒ½å¯ä»¥å®ç°å¤šä¸ªåè®®
struct SomeStructure: Protocol1, Protocol2 {
   // structure definition 
}
class SomeClass: SomeSuperclass, Protocol1, Protocol2 {
   // class definition 
}

// demo
protocol classa {
   var marks: Int { get set }
   var result: Bool { get }

   func attendance() -> String
   func markssecured() -> String
}

protocol classb: classa {
   var present: Bool { get set }
   var subject: String { get set }
   var stname: String { get set }
}

class classc: classb {
   var marks = 96
   let result = true
   var present = false
   var subject = "Swift 4 Protocols"
   var stname = "Protocols"

   func attendance() -> String {
      return "The \(stname) has secured 99% attendance"
   }
   func markssecured() -> String {
      return "\(stname) has scored \(marks)"
   }
}

let studdet = classc()
studdet.stname = "Swift 4"
studdet.marks = 98
studdet.markssecured()

print(studdet.marks)
print(studdet.result)
print(studdet.present)
print(studdet.subject)
print(studdet.stname)
```

### mutatingæ–¹æ³•

æœ‰æ—¶éœ€è¦åœ¨æ–¹æ³•ä¸­æ”¹å˜æ–¹æ³•æ‰€å±çš„å®ä¾‹ã€‚ä¾‹å¦‚ï¼Œåœ¨å€¼ç±»å‹ï¼ˆå³ç»“æ„ä½“å’Œæšä¸¾ï¼‰çš„å®ä¾‹æ–¹æ³•ä¸­ï¼Œå°† `mutating` å…³é”®å­—ä½œä¸ºæ–¹æ³•çš„å‰ç¼€ï¼Œå†™åœ¨ `func` å…³é”®å­—ä¹‹å‰ï¼Œè¡¨ç¤ºå¯ä»¥åœ¨è¯¥æ–¹æ³•ä¸­ä¿®æ”¹å®ƒæ‰€å±çš„å®ä¾‹ä»¥åŠå®ä¾‹çš„ä»»æ„å±æ€§çš„å€¼

> æ³¨æ„
> å®ç°åè®®ä¸­çš„ `mutating` æ–¹æ³•æ—¶ï¼Œè‹¥æ˜¯ç±»ç±»å‹ï¼Œåˆ™ä¸ç”¨å†™ `mutating` å…³é”®å­—ã€‚è€Œå¯¹äºç»“æ„ä½“å’Œæšä¸¾ï¼Œåˆ™å¿…é¡»å†™ `mutating` å…³é”®å­—ã€‚

```swift
protocol Togglable {
    mutating func toggle()
}
enum OnOffSwitch: Togglable {
    case off, on
    mutating func toggle() {
        switch self {
        case .off:
            self = .on
        case .on:
            self = .off
        }
    }
}
var lightSwitch = OnOffSwitch.off
lightSwitch.toggle()
// lightSwitch ç°åœ¨çš„å€¼ä¸º .on
```

### æ„é€ æ–¹æ³•

```swift
protocol SomeProtocol {
    init(someParameter: Int)
}
```

ä½ å¯ä»¥åœ¨éµå¾ªåè®®çš„ç±»ä¸­å®ç°æ„é€ å™¨ï¼Œæ— è®ºæ˜¯ä½œä¸ºæŒ‡å®šæ„é€ å™¨ï¼Œè¿˜æ˜¯ä½œä¸ºä¾¿åˆ©æ„é€ å™¨ã€‚æ— è®ºå“ªç§æƒ…å†µï¼Œä½ éƒ½å¿…é¡»ä¸ºæ„é€ å™¨å®ç°æ ‡ä¸Š `required` ä¿®é¥°ç¬¦ï¼š

```swift
class SomeClass: SomeProtocol {
    required init(someParameter: Int) {
        // è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†
    }
}
```

å¦‚æœä¸€ä¸ªå­ç±»é‡å†™äº†çˆ¶ç±»çš„æŒ‡å®šæ„é€ å™¨ï¼Œå¹¶ä¸”è¯¥æ„é€ å™¨æ»¡è¶³äº†æŸä¸ªåè®®çš„è¦æ±‚ï¼Œé‚£ä¹ˆè¯¥æ„é€ å™¨çš„å®ç°éœ€è¦åŒæ—¶æ ‡æ³¨ `required` å’Œ `override` ä¿®é¥°ç¬¦ï¼š

```swift
protocol SomeProtocol {
    init()
}

class SomeSuperClass {
    init() {
        // è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†
    }
}

class SomeSubClass: SomeSuperClass, SomeProtocol {
    // å› ä¸ºéµå¾ªåè®®ï¼Œéœ€è¦åŠ ä¸Š required
    // å› ä¸ºç»§æ‰¿è‡ªçˆ¶ç±»ï¼Œéœ€è¦åŠ ä¸Š override
    required override init() {
        // è¿™é‡Œæ˜¯æ„é€ å™¨çš„å®ç°éƒ¨åˆ†
    }
}
```

## é€šçŸ¥

```swift
class ViewController: UIViewController {

    let observers = [MyObserver(name: "è§‚å¯Ÿè€…1"), MyObserver(name: "è§‚å¯Ÿè€…2")]

    override func viewDidLoad() {
        super.viewDidLoad()

        let notificationCenter = NotificationCenter.default
        let operationQueue = OperationQueue.main

        let _ = notificationCenter.addObserver(forName: UIApplication.didEnterBackgroundNotification, object: nil, queue: operationQueue) { (notification) in
            print("did enter background")
        }

        print("å‘é€é€šçŸ¥")
      	// å‘é€é€šçŸ¥ DownloadImageNotification
        let notificationName = Notification.Name(rawValue: "DownloadImageNotification")
        notificationCenter.post(name: notificationName, object: self, userInfo: ["value1": "hangge.com", "value2": 12345])
        print("é€šçŸ¥å®Œæ¯•")
    }
}

class MyObserver: NSObject {
    var name: String = "";

    init(name: String) {
        super.init()

        self.name = name
        let notificationName = Notification.Name(rawValue: "DownloadImageNotification")
      	// ç›‘å¬é€šçŸ¥ DownloadImageNotification
        NotificationCenter.default.addObserver(self, selector: #selector(downloadImage(notification:)), name: notificationName, object: nil)
    }

    @objc func downloadImage(notification: NSNotification) {
        let userInfo = notification.userInfo as! [String: AnyObject]
        let value1 = userInfo["value1"] as! String;
        let value2 = userInfo["value2"] as! Int

        print("\(name) get notification, user info is [\(value1), \(value2)]")

        sleep(3)

        print("\(name) done")
    }

    deinit {
      	// ç§»é™¤é€šçŸ¥
        NotificationCenter.default.removeObserver(self)
    }
}
```

### KVO

ä»…é™äºNSObjectçš„å­ç±»å¯ä»¥ä½¿ç”¨KVOï¼Œéœ€è¦ç›‘å¬çš„å±æ€§éœ€è¦åŠ ä¸Šdynamicå…³é”®å­—

è¿™æ˜¯å› ä¸º KVO æ˜¯åŸºäº KVC (Key-Value Coding) ä»¥åŠåŠ¨æ€æ´¾å‘æŠ€æœ¯å®ç°çš„ï¼Œè€Œè¿™äº›ä¸œè¥¿éƒ½æ˜¯ Objective-C è¿è¡Œæ—¶çš„æ¦‚å¿µã€‚å¦å¤–ç”±äº Swift ä¸ºäº†æ•ˆç‡ï¼Œé»˜è®¤ç¦ç”¨äº†åŠ¨æ€æ´¾å‘

```swift
class Person: NSObject {
	// æƒ³ç”¨ Swift æ¥å®ç° KVOï¼Œæˆ‘ä»¬è¿˜éœ€è¦åšé¢å¤–çš„å·¥ä½œï¼Œé‚£å°±æ˜¯å°†æƒ³è¦è§‚æµ‹çš„å¯¹è±¡æ ‡è®°ä¸ºdynamicã€‚ã€‚
	var name = "é’"
	dynamic var age = 18
	var sex = "å¥³"
	var height = 170

	override init() {
		super.init()
	}
}

// ç›‘å¬
var person = Person()
	
override func viewDidLoad() {
	super.viewDidLoad()
	// ä¸º personæ·»åŠ è§‚å¯Ÿè€…ï¼Œè§‚å¯Ÿ age å±æ€§çš„å€¼æ˜¯å¦æœ‰äº†æ–°çš„èµ‹å€¼ã€‚
	person.addObserver(self, forKeyPath: "age", options: .new, context: nil)
}

override func observeValue(forKeyPath keyPath: String?, of object: Any?, change: [NSKeyValueChangeKey : Any]?, context: UnsafeMutableRawPointer?) {
		// è¾“å‡ºæ”¹å˜åçš„æ–°å€¼
	print(change![NSKeyValueChangeKey.newKey]!)
}

// ç§»é™¤è§‚å¯Ÿè€…
override func viewWillDisappear(_ animated: Bool) {
	person.removeObserver(self, forKeyPath: "age")
}
```